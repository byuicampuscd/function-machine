"use strict";!function(){for(var t,a,d,p,r=$("tbody"),n=10,e=1;e<=n;e++)p=$("<input>"),t=$("<td></td>"),a=$("<td></td>"),d=$("<tr></tr>"),$(d).attr("id","row"+e),$(p).attr("name","input"+e).attr("type","number"),$(a).attr("id","yval"+e),$(t).append(p),$(d).append(t).append(a),$(r).append(d)}();
"use strict";var plotGraph=function(){function t(t){return function(e){var n=(0).toFixed(2);return function(e){var a=t.x*e;this.textContent="( "+a.toFixed(2)+", "+n+")"}}}function e(t){return function(){var e=t.x,n=t.y;return function(t){this.textContent="( "+e+", "+(n*t).toFixed(2)+")"}}}function n(t){return"graphPoint"+t}function a(t){var e=d3.selectAll(u).append("g").attr("class","point").attr("id",n(t.id));return e.append("circle").attr("r",4).attr("cx",0).attr("cy",0),e.append("text").text("(0, 0)").attr("x",5).attr("y",15),e.attr("transform","translate("+d(0)+" "+p(0)+")"),e}function r(r,i){var o,c,s=r.datapoints[r.currentRound];document.querySelectorAll(u+" .graph .line").length>0;r.datapoints.forEach(function(t){t.updatePoint&&d3.select("#"+n(t.id)).remove()}),r.graphOpt.graphHide?d3.select(u+" .graph .line").attr("display","none"):d3.select(u+" .graph .line").attr("display","inline"),s.updatePoint?(o=a(s),r.graphOpt.duration<=.5?(o.attr("transform","translate("+d(s.x)+" "+p(s.y)+")"),o.select("text").text("("+s.x+", "+s.y+")"),i(r)):(c=o.transition().duration(1e3*r.graphOpt.duration).ease("cubic-out").attr("transform","translate("+d(s.x)+" "+p(0)+")"),c.select("text").tween("text",t(s)),c.transition().duration(1e3*r.graphOpt.duration).ease("cubic-out").attr("transform","translate("+d(s.x)+" "+p(s.y)+")").each("end",function(){i(r)}).select("text").tween("text",e(s)))):i(r)}function i(t,e){var n=t.graphOpt,a={target:e,data:[{fn:n.equation,skipTip:!0}],xAxis:{domain:[n.view.x.min,n.view.x.max]},yAxis:{domain:[n.view.y.min,n.view.y.max]},disableZoom:!0,grid:!0,annotations:[{x:0,text:"y axis"},{y:0,text:"x axis"}]};o=e,u=o+" .content",c=n.equation,s=functionPlot(a),d=s.meta.xScale,p=s.meta.yScale,d3.selectAll(u+" .point").remove()}var o,u,c,s,d,p;return{update:r,setup:i}}();
"use strict";$(document).ready(function(){function t(t,e){var n=JSON.stringify(e),i=$("<option></option>").append(t.name);$(i).val(t.equation).attr("data-profOpt",n),$("select").append(i)}if(""==location.search){var e=[];e.push("file=funcMachineSettings")}else{var e=[],n=location.search.substring(1);e=n.split("&")}var i={};e.forEach(function(t){var e=t.split("=");i[e[0]]=e[1]}),console.log(e),$.getJSON(i.file+".json",function(e){var n;n=i.load?e[i.load]:e.general,$("#title").html(n.title),$("#instructionText").html(n.instructions),window.professorConfigFile=n.equations,$.each(n.equations,function(e,n){var i={graphOpt:n};t(n,i),0===e&&(plotGraph.setup(i,"#graph"),document.querySelector(".graph").firstChild.style.display="none",$("input#showGraph[type='checkbox']").click(function(t){var e=t.target.checked;e?document.querySelector(".graph").firstChild.style.display="block":document.querySelector(".graph").firstChild.style.display="none"}),changePlot(n.equation))})}).fail(function(){$("#status p").append("Add a query string")})});
"use strict";function runAnimation(n,t){return function(a){var e=a.datapoints[a.currentRound],i=e.element;return new Promise(function(e){$(i).html(t).css({animation:""+n+a.currentRound+" "+aniDuration+"s ease-in-out"}).one("animationend",function(n){e(a)})})}}function statusMessage(n){var t=$("#status p");return t.html("").css({fontWeight:"normal",color:"black"}),function(a){return new Promise(function(e){t.html(n),e(a)})}}function replaceXEqu(n){return new Promise(function(t){n.graphOpt.hideEquation?t(n):$(equPara).css("animation","textDisappear "+.5*aniDuration+"s ease-in-out").one("animationend",function(a){$(equPara).css("opacity",0),t(n)})})}function showEvaluateEqu(n){var t=n.datapoints[n.currentRound],a=t.changeEqu;return new Promise(function(t){n.graphOpt.hideEquation?t(n):(katex.render(""+a,equPara),$(equPara).css("animation","textAppear "+.5*aniDuration+"s ease-in-out").one("animationend",function(a){$(equPara).css("opacity",1),t(n)}))})}function showYAns(n){var t=n.datapoints[n.currentRound];return new Promise(function(a){n.graphOpt.hideEquation?a(n):$(equPara).css("animation","textDisappear "+.5*aniDuration+"s ease-in-out").one("animationend",function(){$(equPara).css("opacity",0),katex.render(""+t.y,equPara),a(n)})})}function showEquationAgain(n){return new Promise(function(t){n.graphOpt.hideEquation?t(n):$(equPara).css("animation","textAppear "+.5*aniDuration+"s ease-in-out").one("animationend",function(a){$(equPara).css("opacity",1),t(n)})})}function placeYValue(n){var t=n.datapoints[n.currentRound];return new Promise(function(a){var e=$("td#yval"+(t.id+1))[0];$(e).html(""),$(e).append("<p>"+t.y+"</p>"),a(n)})}function resetRound(n){return new Promise(function(t){n.graphOpt.hideEquation?t(n):$(equPara).css("animation","textDisappear "+.15*aniDuration+"s ease-in-out").one("animationend",function(a){$(equPara).css("opacity",0),katex.render(""+profOpt.latex,equPara),t(n)})})}function showDefaultEqu(n){return new Promise(function(t){n.graphOpt.hideEquation?t(n):$(equPara).css("animation","textAppear "+.15*aniDuration+"s ease-in-out").one("animationend",function(a){$(equPara).css("opacity",1),t(n)})})}function plotter(n){return new Promise(function(t){plotGraph.update(n,function(){t(n)})})}function updateRound(n){var t=n.datapoints[n.currentRound];return new Promise(function(a){n.currentRound+=1,t.updatePoint=!1,a(n)})}function animateFuncMachine(n){return new Promise(function(t){$("#functionMachine").css({"background-image":"url(./img/functionMachineAni.gif)"}),t(n)})}function stopAniFuncMachine(n){return new Promise(function(t){$("#functionMachine").css({"background-image":"url(./img/functionMachineStill.gif)"}),t(n)})}function miniAni(n){return new Promise(function(t){var a=n.datapoints[n.currentRound],e=a.y,i=$("<p>"+e+"</p>");$(i).css({fontSize:"20px"}),$("body").append(i),i.css({position:"absolute",opacity:0,left:630,top:160}).animate({opacity:1,top:200},function(a){i.css({display:"none"}),t(n)})})}function aniPromiseChain(n,t){n.datapoints.forEach(function(n){n.updatePoint===!0&&(t=t.then(runAnimation("xToMachine",n.x)).then(animateFuncMachine).then(statusMessage("Calculating")).then(replaceXEqu).then(showEvaluateEqu).then(showYAns).then(showEquationAgain).then(stopAniFuncMachine).then(statusMessage("")).then(miniAni).then(runAnimation("machineToY",n.y)).then(placeYValue).then(runAnimation("yToStatusBar","("+n.x+","+n.y+")")).then(statusMessage("Plotting ("+n.x+","+n.y+")")).then(plotter).then(statusMessage("")).then(resetRound).then(showDefaultEqu)),t=t.then(updateRound)})}function animateHide(n,t){n.datapoints.forEach(function(n){n.updatePoint===!0&&(t=t.then(placeYValue).then(statusMessage("Plotting ("+n.x+","+n.y+")")).then(plotter)),t=t.then(updateRound)})}function animatorControl(n){var t=$("#numContainer"),a=Promise.resolve(n);t.innerHTML="",.5===aniDuration?animateHide(n,a):aniPromiseChain(n,a)}var equPara=$("#functionMachine #equ")[0],rangeSpeed=$("#animate").val(),aniDuration=5/rangeSpeed;$("#animate").change(function(n){aniDuration=5/n.target.value});
"use strict";function checkConfig(t){var n;return $.each(professorConfigFile,function(e,o){o.equation===t&&(n=o)}),n}function clearValues(){var t=$("input[type='number']"),n=$("tr td:nth-of-type(2)");t.each(function(t,n){n.value=""}),n.each(function(t,n){n.innerHTML=""})}function changePlot(t){xMemory=[],clearValues(),window.profOpt=checkConfig(t);var n=$("#functionMachine #equ")[0];$(n).empty(),window.profOpt.hideEquation===!1?katex.render(window.profOpt.latex,n):window.profOpt.hideEquation===!0&&$(n).append("<h2>Mystery Equation</h2>").css({paddingTop:"5px"})}function stairStep(t){var n=280,e=document.styleSheets[document.styleSheets.length-1];e.insertRule("@keyframes "+t.name+" {\n                            0% {\n                                opacity: 1;\n                                top: "+t.startTopOff+"px;\n                                left: "+t.startLeftOff+"px;\n                            }\n                            10% {\n                                opacity: 1;\n                            }\n                            33% {\n                                top: "+t.startTopOff+"px;\n                                left: "+n+"px;\n                            }\n                            66% {\n                                top: "+t.endTopOff+"px;\n                                left: "+n+"px;\n                            }\n                            90% {\n                                opacity: 1;\n                            }\n                            100% {\n                                opacity: 0;\n                                top: "+t.endTopOff+"px;\n                                left: "+t.endLeftOff+"px;\n                            }\n                        }",e.cssRules.length)}function makeXToMachine(t,n){stairStep({startTopOff:t.top+10,startLeftOff:t.left+30,endTopOff:150,endLeftOff:450,name:"xToMachine"+n})}function makeMachineToY(t,n){stairStep({startTopOff:200,startLeftOff:630,endTopOff:t.top+10,endLeftOff:t.right+5,name:"machineToY"+n})}function makeYToStatusBar(t,n){stairStep({startTopOff:t.top+5,startLeftOff:t.right+10,endTopOff:50,endLeftOff:400,name:"yToStatusBar"+n})}function UserException(t,n){this.message=t,this.errorNum=n,this.name="UserException"}function setUpObject(t,n,e){t.each(function(t){var o,a,i=$(this).val();if(i){if(o=+i,a=o.toFixed(profOpt.rounding),$(this).val(a),!(profOpt.view.x.min<=a&&a<=profOpt.view.x.max))throw new UserException("out of window",i);var r=n.equation.replace(/x/g,"("+a+")"),p=math.eval(r);if("number"!=typeof p)throw new UserException("out of domain",i);var u=(this.getBoundingClientRect(),{x:a,y:p.toFixed(profOpt.rounding),id:t,changeEqu:profOpt.latex.replace("x","("+a+")"),updatePoint:xMemory[t]!==a,element:$("#numContainer p").get(t)});if(1/0===p)throw new UserException("undefined value",i);u.updatePoint&&$("td#yval"+(t+1)).html(""),xMemory[t]=a,e.datapoints.push(u)}})}function startFuncMach(){var t=$("input[type='number']"),n={equation:profOpt.equation,hideEquation:profOpt.hideEquation,view:profOpt.view,duration:aniDuration},e={datapoints:[],currentRound:0,graphOpt:n};try{setUpObject(t,n,e),animatorControl(e)}catch(o){xMemory=[],$("#status p").html(o.errorNum+" x-value "+o.message+".").css({fontWeight:"bold",color:"#b62727"})}}function cleanInputs(){var t=$("input[type='number']"),n=[];t.each(function(t){var e=$(this).val();""!==e&&(n.push(e),$(this).val(""))}),t.each(function(t){t<n.length?$(this).val(n[t]):$(this).val("")})}for(var xMemory=[],inputs=document.querySelectorAll("input[type='number']"),inputCount=inputs.length,runMaster=!0,run=!0,i=0;i<inputs.length;i++)inputs[i].onkeyup=function(t){t.srcElement.value;69===t.which&&(t.target.value="",$("#status p").html("Can't do that bro!"))};for(var i=0;i<inputCount;i++){xMemory[i]=null;var inputCoor=inputs[i].getBoundingClientRect();makeXToMachine(inputCoor,i),makeMachineToY(inputCoor,i),makeYToStatusBar(inputCoor,i),$("#numContainer").append($("<p></p>"))}$("#closeHelp").click(function(t){$(t.target.parentElement).fadeOut(100),$("#shade").fadeOut(200),localStorage.firstTimeFunctionMachine=!1}),$("#openHelp").click(function(t){$("#instructions").fadeIn(100),$("#shade").fadeIn(1e3)}),$(document).ready(function(t){try{var n=localStorage.firstTimeFunctionMachine}catch(t){console.error(t)}"false"===n&&($("#instructions").hide(),$("#shade").hide())}),$("select").change(function(t){var n=$('option[value="'+t.target.value+'"]'),e=JSON.parse(n.attr("data-profopt"));plotGraph.setup(e,"#graph"),changePlot(t.target.value)}),$(document).keypress(function(t){13==t.which&&runMaster&&(cleanInputs(),startFuncMach())}),$("input[type='button'][value='Go!']").click(function(){runMaster&&(cleanInputs(),startFuncMach())});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJwbG90R3JhcGguanMiLCJhamF4LmpzIiwiYW5pbWF0b3Jjb250cm9sLmpzIiwiZXZlbnRzLmpzIl0sIm5hbWVzIjpbInRkMSIsInRkMiIsInRyIiwiaW5wdXQiLCJ0Ym9keSIsIiQiLCJyb3dDb3VudCIsImoiLCJhdHRyIiwiYXBwZW5kIiwicGxvdEdyYXBoIiwidXBkYXRlVGV4dFgiLCJjdXJyZW50UG9pbnQiLCJkIiwiemVybyIsInRvRml4ZWQiLCJ0IiwibG9jYXRpb24iLCJ4IiwidGhpcyIsInRleHRDb250ZW50IiwidXBkYXRlVGV4dFkiLCJ4Um91bmRlZCIsInlWYWwiLCJ5IiwibWFrZVBvaW50SWQiLCJudW1JbiIsIm1ha2VQb2ludEdyb3VwIiwicG9pbnRHcm91cCIsImQzIiwic2VsZWN0QWxsIiwiZG90TG9jYXRpb24iLCJpZCIsInRleHQiLCJ4U2NhbGUiLCJ5U2NhbGUiLCJ1cGRhdGUiLCJhbmlPcHRpb25zIiwiY2FsbGJhY2siLCJ0cmFuc2l0aW9uIiwiZGF0YXBvaW50cyIsImN1cnJlbnRSb3VuZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImxlbmd0aCIsImZvckVhY2giLCJwb2ludCIsInVwZGF0ZVBvaW50Iiwic2VsZWN0IiwicmVtb3ZlIiwiZ3JhcGhPcHQiLCJncmFwaEhpZGUiLCJkdXJhdGlvbiIsImVhc2UiLCJ0d2VlbiIsImVhY2giLCJzZXR1cCIsInNlbGVjdG9yIiwib3B0c0luIiwiZ3JhcGhPcHRpb25zIiwidGFyZ2V0IiwiZGF0YSIsImZuIiwiZXF1YXRpb24iLCJza2lwVGlwIiwieEF4aXMiLCJkb21haW4iLCJ2aWV3IiwibWluIiwibWF4IiwieUF4aXMiLCJkaXNhYmxlWm9vbSIsImdyaWQiLCJhbm5vdGF0aW9ucyIsImdyYXBoTG9jYXRpb25TZWxlY3RvciIsImN1cnJlbnRFcXVhdGlvbiIsImZ1blBsb3QiLCJmdW5jdGlvblBsb3QiLCJtZXRhIiwicmVhZHkiLCJzaG93UHJvZk9wdGlvbnMiLCJwcm9mT3B0IiwiaW5pdCIsInN0cmluZ2lmaWVkRGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvcHQiLCJuYW1lIiwidmFsIiwic2VhcmNoIiwicXVlcnlWYXJzIiwicHVzaCIsInF1ZXJ5U3RyaW5nIiwic3Vic3RyaW5nIiwic3BsaXQiLCJhbGxRdWVyaWVzIiwicXVlcnkiLCJwYWlyIiwiY29uc29sZSIsImxvZyIsImdldEpTT04iLCJmaWxlIiwicmVzdWx0IiwibG9hZCIsImdlbmVyYWwiLCJodG1sIiwidGl0bGUiLCJpbnN0cnVjdGlvbnMiLCJ3aW5kb3ciLCJwcm9mZXNzb3JDb25maWdGaWxlIiwiZXF1YXRpb25zIiwiaSIsInF1ZXJ5U2VsZWN0b3IiLCJmaXJzdENoaWxkIiwic3R5bGUiLCJkaXNwbGF5IiwiY2xpY2siLCJlIiwiY2hlY2tlZCIsImNoYW5nZVBsb3QiLCJmYWlsIiwicnVuQW5pbWF0aW9uIiwidmFsdWUiLCJhbmlTZXR0aW5ncyIsImRhdGFwb2ludCIsIm51bVBhcmEiLCJlbGVtZW50IiwiUHJvbWlzZSIsInJlc29sdmUiLCJjc3MiLCJhbmltYXRpb24iLCJhbmlEdXJhdGlvbiIsIm9uZSIsInN0YXR1c01lc3NhZ2UiLCJtZXNzYWdlIiwic3RhdHVzQmFyIiwiZm9udFdlaWdodCIsImNvbG9yIiwicmVwbGFjZVhFcXUiLCJoaWRlRXF1YXRpb24iLCJlcXVQYXJhIiwic2hvd0V2YWx1YXRlRXF1IiwicG9pbnREYXRhIiwiY2hhbmdlRXF1Iiwia2F0ZXgiLCJyZW5kZXIiLCJzaG93WUFucyIsInNob3dFcXVhdGlvbkFnYWluIiwicGxhY2VZVmFsdWUiLCJyZXNldFJvdW5kIiwibGF0ZXgiLCJzaG93RGVmYXVsdEVxdSIsInBsb3R0ZXIiLCJ1cGRhdGVSb3VuZCIsInBsYWNlaG9sZGVyIiwiYW5pbWF0ZUZ1bmNNYWNoaW5lIiwiYmFja2dyb3VuZC1pbWFnZSIsInN0b3BBbmlGdW5jTWFjaGluZSIsIm1pbmlBbmkiLCJ5dmFsdWUiLCJwYXJhIiwiZm9udFNpemUiLCJwb3NpdGlvbiIsIm9wYWNpdHkiLCJsZWZ0IiwidG9wIiwiYW5pbWF0ZSIsImFuaVByb21pc2VDaGFpbiIsImRwcyIsImNoYWluIiwidGhlbiIsImFuaW1hdGVIaWRlIiwiYW5pbWF0b3JDb250cm9sIiwibnVtQ29udGFpbmVyIiwiaW5uZXJIVE1MIiwicmFuZ2VTcGVlZCIsImNoYW5nZSIsImNoZWNrQ29uZmlnIiwiaXRlbSIsImNsZWFyVmFsdWVzIiwieGlucHV0cyIsInlpbnB1dHMiLCJ4TWVtb3J5IiwiZW1wdHkiLCJwYWRkaW5nVG9wIiwic3RhaXJTdGVwIiwib3B0aW9ucyIsImhpZ2h3YXlQYXRoIiwibGFzdFNoZWV0Iiwic3R5bGVTaGVldHMiLCJpbnNlcnRSdWxlIiwic3RhcnRUb3BPZmYiLCJzdGFydExlZnRPZmYiLCJlbmRUb3BPZmYiLCJlbmRMZWZ0T2ZmIiwiY3NzUnVsZXMiLCJtYWtlWFRvTWFjaGluZSIsImlucHV0Q29yZHMiLCJpbmRleCIsIm1ha2VNYWNoaW5lVG9ZIiwicmlnaHQiLCJtYWtlWVRvU3RhdHVzQmFyIiwiVXNlckV4Y2VwdGlvbiIsImVycm9yTnVtIiwic2V0VXBPYmplY3QiLCJ4dmFsIiwicm91bmRpdCIsInh2YWx1ZSIsInJvdW5kaW5nIiwicmVwbGFjZVgiLCJyZXBsYWNlIiwieXZhbCIsIm1hdGgiLCJldmFsIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZ2V0IiwiSW5maW5pdHkiLCJzdGFydEZ1bmNNYWNoIiwiY2xlYW5JbnB1dHMiLCJpbnB1dEFycmF5IiwiaW5wdXRWYWx1ZSIsImlucHV0cyIsImlucHV0Q291bnQiLCJydW5NYXN0ZXIiLCJydW4iLCJvbmtleXVwIiwic3JjRWxlbWVudCIsIndoaWNoIiwiaW5wdXRDb29yIiwicGFyZW50RWxlbWVudCIsImZhZGVPdXQiLCJsb2NhbFN0b3JhZ2UiLCJmYWRlSW4iLCJmaXJzdHRpbWUiLCJlcnJvciIsImhpZGUiLCJzZWxlY3RlZCIsInBhcnNlIiwia2V5cHJlc3MiXSwibWFwcGluZ3MiOiJBQUFBLGNBQUMsV0Fh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SCxHQUVBLFVBQWRvSCxJQUNBcE8sRUFBRSxpQkFBaUJzTyxPQUNuQnRPLEVBQUUsVUFBVXNPLFVBT3BCdE8sRUFBRSxVQUFVMkssT0FBTyxTQUFVM0QsR0FDekIsR0FBSXVILEdBQVd2TyxFQUFBQSxpQkFBbUJnSCxFQUFFekQsT0FBTzhELE1BQTVCLE1BQ1h6QyxFQUFVRyxLQUFLeUosTUFBTUQsRUFBU3BPLEtBQUssZ0JBRXZDRSxXQUFVOEMsTUFBTXlCLEVBQVMsVUFDekJzQyxXQUFXRixFQUFFekQsT0FBTzhELFNBTXhCckgsRUFBRXFDLFVBQVVvTSxTQUFTLFNBQVV6SCxHQUNaLElBQVhBLEVBQUU4RyxPQUFlSixZQUNqQkwsY0FDQUQsbUJBT1JwTixFQUFFLHFDQUFxQytHLE1BQU0sV0FDckMyRyxZQUNBTCxjQUNBRCIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIC8qXHJcbiAgICBNYWtlIHRoZSB3aG9sZSB0YWJsZSBhbmQgY2VsbHMgZm9yIHRoZSBpbnB1dCBib3hlcyBhbmQgdXNlciBpbnRlcmFjdGlvbi5cclxuICAgICovXHJcbiAgICB2YXIgdGJvZHkgPSAkKFwidGJvZHlcIiksXHJcbiAgICAgICAgdGQxLFxyXG4gICAgICAgIHRkMixcclxuICAgICAgICB0cixcclxuICAgICAgICBpbnB1dCxcclxuICAgICAgICByb3dDb3VudCA9IDEwO1xyXG5cclxuICAgIGZvciAodmFyIGogPSAxOyBqIDw9IHJvd0NvdW50OyBqKyspIHtcclxuICAgICAgICBpbnB1dCA9ICQoXCI8aW5wdXQ+XCIpO1xyXG4gICAgICAgIHRkMSA9ICQoXCI8dGQ+PC90ZD5cIik7XHJcbiAgICAgICAgdGQyID0gJChcIjx0ZD48L3RkPlwiKTtcclxuICAgICAgICB0ciA9ICQoXCI8dHI+PC90cj5cIik7XHJcblxyXG4gICAgICAgICQodHIpLmF0dHIoXCJpZFwiLCBgcm93JHtqfWApO1xyXG5cclxuICAgICAgICAkKGlucHV0KS5hdHRyKFwibmFtZVwiLCBgaW5wdXQke2p9YCkuYXR0cihcInR5cGVcIiwgXCJudW1iZXJcIik7XHJcblxyXG4gICAgICAgICQodGQyKS5hdHRyKFwiaWRcIiwgYHl2YWwke2p9YCk7XHJcblxyXG4gICAgICAgICQodGQxKS5hcHBlbmQoaW5wdXQpO1xyXG4gICAgICAgICQodHIpLmFwcGVuZCh0ZDEpLmFwcGVuZCh0ZDIpO1xyXG4gICAgICAgICQodGJvZHkpLmFwcGVuZCh0cik7XHJcbiAgICB9XHJcbn0oKSk7XHJcbiIsIi8qanNsaW50IHBsdXNwbHVzOiB0cnVlLCBicm93c2VyOiB0cnVlLCBkZXZlbDogdHJ1ZSovXHJcbi8qZ2xvYmFsIGQzLCBmdW5jdGlvblBsb3QqL1xyXG52YXIgcGxvdEdyYXBoID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgdmFyIGdyYXBoTG9jYXRpb25TZWxlY3RvcixcclxuICAgICAgICBkb3RMb2NhdGlvbixcclxuICAgICAgICBjdXJyZW50RXF1YXRpb24sXHJcbiAgICAgICAgZnVuUGxvdCxcclxuICAgICAgICB4U2NhbGUsXHJcbiAgICAgICAgeVNjYWxlLFxyXG4gICAgICAgIGZyZWVJZCA9IDA7XHJcblxyXG4gICAgLy90aGVzZSB0d28gZnVuY3Rpb25zIG1ha2UgdGhlIGZhY3RvcnkgZnVuY3Rpb24gdGhhdCBpcyB1c2VkIGluIHRoZSBhbmltYXRpb25zIGZvciB0aGUgcG9pbnQgbGFiZWxzXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVUZXh0WChjdXJyZW50UG9pbnQpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgdmFyIHplcm8gPSAoMCkudG9GaXhlZCgyKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gY3VycmVudFBvaW50LnggKiB0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0Q29udGVudCA9IFwiKCBcIiArIGxvY2F0aW9uLnRvRml4ZWQoMikgKyBcIiwgXCIgKyB6ZXJvICsgXCIpXCI7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVUZXh0WShjdXJyZW50UG9pbnQpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHhSb3VuZGVkID0gY3VycmVudFBvaW50LngsXHJcbiAgICAgICAgICAgICAgICB5VmFsID0gY3VycmVudFBvaW50Lnk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGV4dENvbnRlbnQgPSBcIiggXCIgKyB4Um91bmRlZCArIFwiLCBcIiArICh5VmFsICogdCkudG9GaXhlZCgyKSArIFwiKVwiO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbWFrZVBvaW50SWQobnVtSW4pIHtcclxuICAgICAgICByZXR1cm4gJ2dyYXBoUG9pbnQnICsgbnVtSW47XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbWFrZVBvaW50R3JvdXAoY3VycmVudFBvaW50KSB7XHJcbiAgICAgICAgdmFyIHBvaW50R3JvdXAgPSBkMy5zZWxlY3RBbGwoZG90TG9jYXRpb24pLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdwb2ludCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsIG1ha2VQb2ludElkKGN1cnJlbnRQb2ludC5pZCkpO1xyXG5cclxuICAgICAgICAvL2FkZCB0aGUgY2lyY2xlXHJcbiAgICAgICAgcG9pbnRHcm91cC5hcHBlbmQoJ2NpcmNsZScpXHJcbiAgICAgICAgICAgIC5hdHRyKCdyJywgNClcclxuICAgICAgICAgICAgLmF0dHIoJ2N4JywgMClcclxuICAgICAgICAgICAgLmF0dHIoJ2N5JywgMCk7XHJcblxyXG4gICAgICAgIC8vYWRkIHRoZSBsYWJlbFxyXG4gICAgICAgIHBvaW50R3JvdXAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgLnRleHQoJygwLCAwKScpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgNSlcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCAxNSk7XHJcbiAgICAgICAgLy9tb3ZlIGl0IHRvICgwLDApXHJcbiAgICAgICAgcG9pbnRHcm91cC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyB4U2NhbGUoMCkgKyAnICcgKyB5U2NhbGUoMCkgKyAnKScpO1xyXG4gICAgICAgIHJldHVybiBwb2ludEdyb3VwO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZShhbmlPcHRpb25zLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBjdXJyZW50UG9pbnQgPSBhbmlPcHRpb25zLmRhdGFwb2ludHNbYW5pT3B0aW9ucy5jdXJyZW50Um91bmRdLFxyXG4gICAgICAgICAgICBsaW5lSXNQbG90dGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChkb3RMb2NhdGlvbiArICcgLmdyYXBoIC5saW5lJykubGVuZ3RoID4gMCxcclxuICAgICAgICAgICAgcG9pbnRHcm91cCxcclxuICAgICAgICAgICAgdHJhbnNpdGlvbjtcclxuXHJcbiAgICAgICAgLy9jbGVhciBhbnkgcG9pbnRzIHRoYXQgd2lsbCBnZXQgdXBkYXRlZFxyXG4gICAgICAgIGFuaU9wdGlvbnMuZGF0YXBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChwb2ludCkge1xyXG4gICAgICAgICAgICBpZiAocG9pbnQudXBkYXRlUG9pbnQpIHtcclxuICAgICAgICAgICAgICAgIGQzLnNlbGVjdCgnIycgKyBtYWtlUG9pbnRJZChwb2ludC5pZCkpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vY2hlY2sgaWYgd2UgbmVlZCB0byBoaWRlIG9yIHNob3cgdGhlIHBsb3RsaW5lXHJcbiAgICAgICAgaWYgKGFuaU9wdGlvbnMuZ3JhcGhPcHQuZ3JhcGhIaWRlKSB7XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdChkb3RMb2NhdGlvbiArICcgLmdyYXBoIC5saW5lJykuYXR0cignZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZDMuc2VsZWN0KGRvdExvY2F0aW9uICsgJyAuZ3JhcGggLmxpbmUnKS5hdHRyKCdkaXNwbGF5JywgJ2lubGluZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9kb2VzIHRoZSBjdXJyZW50Um91bmQgbmVlZCB0byBiZSB1cGRhdGVkZWQ/XHJcbiAgICAgICAgaWYgKCFjdXJyZW50UG9pbnQudXBkYXRlUG9pbnQpIHtcclxuICAgICAgICAgICAgLy9ub3RoaXRuZyB0byBzZWUgaGVyZSBqdXN0IGtlZXAgb24gbW92aW5nXHJcbiAgICAgICAgICAgIGNhbGxiYWNrKGFuaU9wdGlvbnMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vZHJhdyBwb2ludFxyXG4gICAgICAgICAgICBwb2ludEdyb3VwID0gbWFrZVBvaW50R3JvdXAoY3VycmVudFBvaW50KTtcclxuXHJcbiAgICAgICAgICAgIC8vaXMgYW5pbWF0aW9uIG9uP1xyXG4gICAgICAgICAgICBpZiAoYW5pT3B0aW9ucy5ncmFwaE9wdC5kdXJhdGlvbiA8PSAwLjUpIHtcclxuICAgICAgICAgICAgICAgIC8vbW92ZSBpdCBpbnRvIHBsYWNlIHdpdGhvdXQgYW5pbWF0aW9uXHJcbiAgICAgICAgICAgICAgICBwb2ludEdyb3VwLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIHhTY2FsZShjdXJyZW50UG9pbnQueCkgKyAnICcgKyB5U2NhbGUoY3VycmVudFBvaW50LnkpICsgJyknKTtcclxuICAgICAgICAgICAgICAgIC8vdXBkYXRlIHRoZSBsYWJsZVxyXG4gICAgICAgICAgICAgICAgcG9pbnRHcm91cC5zZWxlY3QoJ3RleHQnKS50ZXh0KCcoJyArIGN1cnJlbnRQb2ludC54ICsgJywgJyArIGN1cnJlbnRQb2ludC55ICsgJyknKTtcclxuICAgICAgICAgICAgICAgIC8vY2FsbCBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soYW5pT3B0aW9ucyk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9kcmF3IHBvaW50IHdpdGggYW5pbWFpb25cclxuICAgICAgICAgICAgICAgIC8vRmlyc3QgdHJhbnNpdGlvbiAtIG1vdmUgdGhlIGdyb3VwIGluIHRoZSBYXHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uID0gcG9pbnRHcm91cFxyXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oYW5pT3B0aW9ucy5ncmFwaE9wdC5kdXJhdGlvbiAqIDEwMDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmVhc2UoJ2N1YmljLW91dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIHhTY2FsZShjdXJyZW50UG9pbnQueCkgKyAnICcgKyB5U2NhbGUoMCkgKyAnKScpO1xyXG4gICAgICAgICAgICAgICAgLy9zdWIgdHJhbnNpdGlvbiAtIHVwZGF0ZSB0aGUgbGFiZWxcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uc2VsZWN0KCd0ZXh0JykudHdlZW4oJ3RleHQnLCB1cGRhdGVUZXh0WChjdXJyZW50UG9pbnQpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL1NlY29uZCB0cmFuc2l0aW9uIC0gbW92ZSB0aGUgZ3JvdXAgaW4gdGhlIFlcclxuICAgICAgICAgICAgICAgIC8vc3ViIHRyYW5zaXRpb24gLSB1cGRhdGUgdGhlIGxhYmVsXHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihhbmlPcHRpb25zLmdyYXBoT3B0LmR1cmF0aW9uICogMTAwMClcclxuICAgICAgICAgICAgICAgICAgICAuZWFzZSgnY3ViaWMtb3V0JylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgeFNjYWxlKGN1cnJlbnRQb2ludC54KSArICcgJyArIHlTY2FsZShjdXJyZW50UG9pbnQueSkgKyAnKScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmVhY2goJ2VuZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soYW5pT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuc2VsZWN0KCd0ZXh0JykudHdlZW4oJ3RleHQnLCB1cGRhdGVUZXh0WShjdXJyZW50UG9pbnQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXR1cChhbmlPcHRpb25zLCBzZWxlY3Rvcikge1xyXG4gICAgICAgIC8vc3VnYXJcclxuICAgICAgICB2YXIgb3B0c0luID0gYW5pT3B0aW9ucy5ncmFwaE9wdCxcclxuICAgICAgICAgICAgZ3JhcGhPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBzZWxlY3RvcixcclxuICAgICAgICAgICAgICAgIGRhdGE6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgZm46IG9wdHNJbi5lcXVhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBza2lwVGlwOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgIHhBeGlzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9tYWluOiBbb3B0c0luLnZpZXcueC5taW4sIG9wdHNJbi52aWV3LngubWF4XVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHlBeGlzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9tYWluOiBbb3B0c0luLnZpZXcueS5taW4sIG9wdHNJbi52aWV3LnkubWF4XVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRpc2FibGVab29tOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZ3JpZDogdHJ1ZSxcclxuXHRcdFx0XHRhbm5vdGF0aW9uczogW3tcclxuXHRcdFx0XHRcdHg6IDAsXHJcblx0XHRcdFx0XHR0ZXh0OiAneSBheGlzJ1xyXG5cdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdHk6IDAsXHJcblx0XHRcdFx0XHR0ZXh0OiAneCBheGlzJ1xyXG5cdFx0XHRcdH1dXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vc2F2ZSBzb21lIHRoaW5ncyBmb3IgbGF0ZXJcclxuICAgICAgICBncmFwaExvY2F0aW9uU2VsZWN0b3IgPSBzZWxlY3RvcjtcclxuICAgICAgICBkb3RMb2NhdGlvbiA9IGdyYXBoTG9jYXRpb25TZWxlY3RvciArICcgLmNvbnRlbnQnO1xyXG4gICAgICAgIGN1cnJlbnRFcXVhdGlvbiA9IG9wdHNJbi5lcXVhdGlvbjtcclxuXHJcbiAgICAgICAgLy9tYWtlIHRoZSBwbG90IGFuZCBzY2FsZXNcclxuICAgICAgICBmdW5QbG90ID0gZnVuY3Rpb25QbG90KGdyYXBoT3B0aW9ucyk7XHJcbiAgICAgICAgeFNjYWxlID0gZnVuUGxvdC5tZXRhLnhTY2FsZTtcclxuICAgICAgICB5U2NhbGUgPSBmdW5QbG90Lm1ldGEueVNjYWxlO1xyXG5cclxuICAgICAgICAvL2NsZWFuIG91dCBhbnkgb2xkIHBvaW50cyBmaXJzdFxyXG4gICAgICAgIGQzLnNlbGVjdEFsbChkb3RMb2NhdGlvbiArICcgLnBvaW50JykucmVtb3ZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB1cGRhdGU6IHVwZGF0ZSxcclxuICAgICAgICBzZXR1cDogc2V0dXBcclxuICAgIH07XHJcbn0oKSk7XHJcbiIsIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAvKlxyXG4gICAgTG9hZCBRdWVyeSBzdWJzdHJpbmdcclxuICAgICovXHJcblxyXG4gICAgaWYgKGxvY2F0aW9uLnNlYXJjaCA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIC8vRGVmYXVsdCBxdWVyeSBzdHJpbmcgaWYgbm90aGluZyBwcm92aWRlZFxyXG4gICAgICAgIHZhciBxdWVyeVZhcnMgPSBbXTtcclxuICAgICAgICBxdWVyeVZhcnMucHVzaChcImZpbGU9ZnVuY01hY2hpbmVTZXR0aW5nc1wiKTtcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgLy8gR3JhYiB0aGUgcXVlcnkgc3RyaW5nIGFuZCBvcHRpb25zXHJcbiAgICAgICAgdmFyIHF1ZXJ5VmFycyA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBsb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgIC8vIFNldCBxdWVyeVZhcnMgdG8gYmUgYXJyYXkgb2YgcGFyYW1ldGVyc1xyXG4gICAgICAgIHF1ZXJ5VmFycyA9IHF1ZXJ5U3RyaW5nLnNwbGl0KFwiJlwiKTtcclxuXHJcbiAgICB9XHJcbiAgICB2YXIgYWxsUXVlcmllcyA9IHt9O1xyXG5cclxuICAgIHF1ZXJ5VmFycy5mb3JFYWNoKGZ1bmN0aW9uIChxdWVyeSl7IFxyXG4gICAgICAgIHZhciBwYWlyID0gcXVlcnkuc3BsaXQoXCI9XCIpO1xyXG4gICAgICAgIGFsbFF1ZXJpZXNbcGFpclswXV0gPSBwYWlyWzFdO1xyXG4gICAgfSkgXHJcblxyXG4vLyAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXJ5VmFycy5sZW5ndGg7IGkrKykge1xyXG4vLyAgICAgICAgdmFyIHBhaXIgPSBxdWVyeVZhcnNbaV0uc3BsaXQoXCI9XCIpO1xyXG4vLyAgICAgICAgYWxsUXVlcmllc1twYWlyWzBdXSA9IHBhaXJbMV07XHJcbi8vICAgIH1cclxuY29uc29sZS5sb2cocXVlcnlWYXJzKTtcclxuICAgIGZ1bmN0aW9uIHNob3dQcm9mT3B0aW9ucyhwcm9mT3B0LCBpbml0KSB7XHJcbiAgICAgICAgLypcclxuICAgICAgICBBcHBlbmQgdGhlIHByb2Zlc3NvcidzIGNob3NlbiBlcXVhdGlvbnMgdG8gdGhlIGFwcGxpY2F0aW9uXHJcbiAgICAgICAgKi9cclxuXHJcbiAgICAgICAgdmFyIHN0cmluZ2lmaWVkRGF0YSA9IEpTT04uc3RyaW5naWZ5KGluaXQpLFxyXG4gICAgICAgICAgICBvcHQgPSAkKFwiPG9wdGlvbj48L29wdGlvbj5cIikuYXBwZW5kKHByb2ZPcHQubmFtZSk7XHJcblxyXG4gICAgICAgICQob3B0KVxyXG4gICAgICAgICAgICAudmFsKHByb2ZPcHQuZXF1YXRpb24pXHJcbiAgICAgICAgICAgIC5hdHRyKFwiZGF0YS1wcm9mT3B0XCIsIHN0cmluZ2lmaWVkRGF0YSk7XHJcblxyXG4gICAgICAgICQoXCJzZWxlY3RcIilcclxuICAgICAgICAgICAgLmFwcGVuZChvcHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICBMb2FkIHRoZSBwcm9mZXNzb3IgY29uZmlndXJhdGlvbiBmaWxlXHJcblxyXG4gICAgZ2VuZXJhbCBxdWVyeTogP2ZpbGU9ZnVuY01hY2hpbmVTZXR0aW5ncyZsb2FkPWdlbmVyYWxcclxuICAgICovXHJcblxyXG4gICAgJC5nZXRKU09OKGFsbFF1ZXJpZXMuZmlsZSArIFwiLmpzb25cIiwgZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgdmFyIHJlc3VsdDtcclxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIFwibG9hZFwiIHF1ZXJ5LCBsb2FkIGl0LCBvdGhlcndpc2UgbG9hZCB0aGUgZ2VuZXJhbCBvcHRpb24uXHJcbiAgICAgICAgaWYgKGFsbFF1ZXJpZXMubG9hZCkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBkYXRhW2FsbFF1ZXJpZXMubG9hZF07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gZGF0YS5nZW5lcmFsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJChcIiN0aXRsZVwiKS5odG1sKHJlc3VsdC50aXRsZSk7XHJcbiAgICAgICAgJChcIiNpbnN0cnVjdGlvblRleHRcIikuaHRtbChyZXN1bHQuaW5zdHJ1Y3Rpb25zKTtcclxuXHJcbiAgICAgICAgd2luZG93LnByb2Zlc3NvckNvbmZpZ0ZpbGUgPSByZXN1bHQuZXF1YXRpb25zO1xyXG5cclxuICAgICAgICAkLmVhY2gocmVzdWx0LmVxdWF0aW9ucywgZnVuY3Rpb24gKGksIHByb2ZPcHQpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBpbml0ID0ge1xyXG4gICAgICAgICAgICAgICAgZ3JhcGhPcHQ6IHByb2ZPcHRcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHNob3dQcm9mT3B0aW9ucyhwcm9mT3B0LCBpbml0KTtcclxuXHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgIERpc3BsYXkgdGhlIGRlZmF1bHQgZXF1YXRpb24gdG8gdGhlIGZ1bmN0aW9uIG1hY2hpbmVcclxuICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIC8vaW4gZXZlbnRzLmpzXHJcbiAgICAgICAgICAgICAgICBwbG90R3JhcGguc2V0dXAoaW5pdCwgXCIjZ3JhcGhcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ncmFwaFwiKS5maXJzdENoaWxkLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAvKkNoZWNrYm94IG9uY2xpY2sgZXZlbnQqL1xyXG4gICAgICAgICAgICAgICAgJChcImlucHV0I3Nob3dHcmFwaFt0eXBlPSdjaGVja2JveCddXCIpLmNsaWNrKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGVja2VkID0gZS50YXJnZXQuY2hlY2tlZDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdyYXBoXCIpLmZpcnN0Q2hpbGQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdyYXBoXCIpLmZpcnN0Q2hpbGQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgY2hhbmdlUGxvdChwcm9mT3B0LmVxdWF0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoXCIjc3RhdHVzIHBcIikuYXBwZW5kKFwiQWRkIGEgcXVlcnkgc3RyaW5nXCIpXHJcbiAgICB9KTtcclxuXHJcbn0pO1xyXG4iLCJ2YXIgZXF1UGFyYSA9ICQoXCIjZnVuY3Rpb25NYWNoaW5lICNlcXVcIilbMF0sXHJcbiAgICByYW5nZVNwZWVkID0gJChcIiNhbmltYXRlXCIpLnZhbCgpLFxyXG4gICAgYW5pRHVyYXRpb24gPSAoMSAqIDUpIC8gcmFuZ2VTcGVlZDtcclxuXHJcbiQoJyNhbmltYXRlJykuY2hhbmdlKGUgPT4ge1xyXG4gICAgYW5pRHVyYXRpb24gPSAoMSAqIDUpIC8gZS50YXJnZXQudmFsdWU7XHJcbn0pXHJcblxyXG5mdW5jdGlvbiBydW5BbmltYXRpb24obmFtZSwgdmFsdWUpIHtcclxuICAgIC8qXHJcbiAgICBUaGlzIGlzIGEgZnVuY3Rpb24gZmFjdG9yeSB3aGljaCB3aWxsIGdyYWIgdGhlXHJcbiAgICBuZWNlc3NhcnkgZGF0YSBhbmQgdGhlbiByZXR1cm4gdGhlIGZ1bmN0aW9uIHByb21pc2VcclxuICAgICovXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gYW5pbWF0aW9uKGFuaVNldHRpbmdzKSB7XHJcbiAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICAgICAgdmFyIGRhdGFwb2ludCA9IGFuaVNldHRpbmdzLmRhdGFwb2ludHNbYW5pU2V0dGluZ3MuY3VycmVudFJvdW5kXSxcclxuICAgICAgICAgICAgbnVtUGFyYSA9IGRhdGFwb2ludC5lbGVtZW50O1xyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgIE1ha2UgdGhlIHByb21pc2UgdGhhdCB3aGVuIHRoZSBkeW5hbWljXHJcbiAgICAgICAgYW5pbWF0aW9uIHBhdGggaXMgZG9uZSB0aGVuIHRoaXMgcHJvbWlzZSBpcyBmaW5pc2hlZFxyXG4gICAgICAgICovXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICAgICAgICAgICQobnVtUGFyYSlcclxuICAgICAgICAgICAgICAgIC5odG1sKHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJhbmltYXRpb25cIjogYCR7bmFtZX0ke2FuaVNldHRpbmdzLmN1cnJlbnRSb3VuZH0gJHthbmlEdXJhdGlvbn1zIGVhc2UtaW4tb3V0YCxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAub25lKCdhbmltYXRpb25lbmQnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYW5pU2V0dGluZ3MpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdGF0dXNNZXNzYWdlKG1lc3NhZ2UpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgLypcclxuICAgIFRoaXMgaXMgYSBmdW5jdGlvbiBmYWN0b3J5IHdoaWNoIHdpbGwgZ3JhYiB0aGVcclxuICAgIG5lY2Vzc2FyeSBkYXRhIGFuZCB0aGVuIHJldHVybiB0aGUgZnVuY3Rpb24gcHJvbWlzZVxyXG4gICAgKi9cclxuICAgIHZhciBzdGF0dXNCYXIgPSAkKFwiI3N0YXR1cyBwXCIpO1xyXG5cclxuICAgIHN0YXR1c0JhclxyXG4gICAgICAgIC5odG1sKCcnKVxyXG4gICAgICAgIC5jc3Moe1xyXG4gICAgICAgICAgICBcImZvbnRXZWlnaHRcIjogXCJub3JtYWxcIixcclxuICAgICAgICAgICAgXCJjb2xvclwiOiBcImJsYWNrXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFuaVNldHRpbmdzKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICAgICAgICAgIHN0YXR1c0Jhci5odG1sKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICByZXNvbHZlKGFuaVNldHRpbmdzKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXBsYWNlWEVxdShhbmlTZXR0aW5ncykge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgLypcclxuICAgIFJlcGxhY2UgdGhlIHggaW4gdGhlIGRpc2FwcGVhcmVkIGVxdWF0aW9uIHdpdGhvdXQgaGF2aW5nIHRoZSB5IGRpc2FwcGVhci5cclxuICAgICovXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuICAgICAgICBpZiAoYW5pU2V0dGluZ3MuZ3JhcGhPcHQuaGlkZUVxdWF0aW9uKSB7XHJcbiAgICAgICAgICAgIHJlc29sdmUoYW5pU2V0dGluZ3MpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoZXF1UGFyYSlcclxuICAgICAgICAgICAgICAgIC5jc3MoXCJhbmltYXRpb25cIiwgYHRleHREaXNhcHBlYXIgJHthbmlEdXJhdGlvbiowLjV9cyBlYXNlLWluLW91dGApXHJcbiAgICAgICAgICAgICAgICAub25lKFwiYW5pbWF0aW9uZW5kXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChlcXVQYXJhKS5jc3MoXCJvcGFjaXR5XCIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYW5pU2V0dGluZ3MpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dFdmFsdWF0ZUVxdShhbmlTZXR0aW5ncykge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgLypcclxuICAgIEdldCB0aGUgeSBhbnN3ZXIgYW5kIHRoZSB4LWNoYW5nZWQgZXF1YXRpb25cclxuICAgICovXHJcbiAgICB2YXIgcG9pbnREYXRhID0gYW5pU2V0dGluZ3MuZGF0YXBvaW50c1thbmlTZXR0aW5ncy5jdXJyZW50Um91bmRdLFxyXG4gICAgICAgIGNoYW5nZUVxdSA9IHBvaW50RGF0YS5jaGFuZ2VFcXU7XHJcblxyXG4gICAgLypcclxuICAgIFNob3cgdGhlIG5ldyBlcXVhdGlvbiB3aXRoIHRoZSByZXBsYWNlZCB4LXZhbHVlIGVxdWF0aW9uXHJcbiAgICAqL1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICAgICAgaWYgKGFuaVNldHRpbmdzLmdyYXBoT3B0LmhpZGVFcXVhdGlvbikge1xyXG4gICAgICAgICAgICByZXNvbHZlKGFuaVNldHRpbmdzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBrYXRleC5yZW5kZXIoYCR7Y2hhbmdlRXF1fWAsIGVxdVBhcmEpO1xyXG4gICAgICAgICAgICAkKGVxdVBhcmEpXHJcbiAgICAgICAgICAgICAgICAuY3NzKFwiYW5pbWF0aW9uXCIsIGB0ZXh0QXBwZWFyICR7YW5pRHVyYXRpb24qMC41fXMgZWFzZS1pbi1vdXRgKVxyXG4gICAgICAgICAgICAgICAgLm9uZShcImFuaW1hdGlvbmVuZFwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoZXF1UGFyYSkuY3NzKFwib3BhY2l0eVwiLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGFuaVNldHRpbmdzKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dZQW5zKGFuaVNldHRpbmdzKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICAvKlxyXG4gICAgR2V0IHRoZSBjdXJyZW50IHJvdW5kIGFuZCBjdXJyZW50IGRhdGEgcG9pbnRzXHJcbiAgICAqL1xyXG4gICAgdmFyIHBvaW50RGF0YSA9IGFuaVNldHRpbmdzLmRhdGFwb2ludHNbYW5pU2V0dGluZ3MuY3VycmVudFJvdW5kXTtcclxuXHJcbiAgICAvKlxyXG4gICAgQW5pbWF0ZSB0aGUgbmV3IHkgdmFsdWUgdG8gdGhlIGNvb3JkaW5hdGVkIHkgY29sdW1uIGFuZCBvbmNlXHJcbiAgICBhbmltYXRpb24gaXMgZG9uZSB0aGVuIHJldHVybiB0aGUgcHJvbWlzZVxyXG4gICAgKi9cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG4gICAgICAgIGlmIChhbmlTZXR0aW5ncy5ncmFwaE9wdC5oaWRlRXF1YXRpb24pIHtcclxuICAgICAgICAgICAgcmVzb2x2ZShhbmlTZXR0aW5ncyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJChlcXVQYXJhKVxyXG4gICAgICAgICAgICAgICAgLmNzcyhcImFuaW1hdGlvblwiLCBgdGV4dERpc2FwcGVhciAke2FuaUR1cmF0aW9uKjAuNX1zIGVhc2UtaW4tb3V0YClcclxuICAgICAgICAgICAgICAgIC5vbmUoXCJhbmltYXRpb25lbmRcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoZXF1UGFyYSkuY3NzKFwib3BhY2l0eVwiLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBrYXRleC5yZW5kZXIoYCR7cG9pbnREYXRhLnl9YCwgZXF1UGFyYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShhbmlTZXR0aW5ncyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuLypcclxuU2hvdyB0aGUgY2hvc2VuIGVxdWF0aW9uIHRvIGdyYXBoXHJcbiovXHJcbmZ1bmN0aW9uIHNob3dFcXVhdGlvbkFnYWluKGFuaVNldHRpbmdzKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuICAgICAgICBpZiAoYW5pU2V0dGluZ3MuZ3JhcGhPcHQuaGlkZUVxdWF0aW9uKSB7XHJcbiAgICAgICAgICAgIHJlc29sdmUoYW5pU2V0dGluZ3MpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoZXF1UGFyYSlcclxuICAgICAgICAgICAgICAgIC5jc3MoXCJhbmltYXRpb25cIiwgYHRleHRBcHBlYXIgJHthbmlEdXJhdGlvbiowLjV9cyBlYXNlLWluLW91dGApXHJcbiAgICAgICAgICAgICAgICAub25lKFwiYW5pbWF0aW9uZW5kXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChlcXVQYXJhKS5jc3MoXCJvcGFjaXR5XCIsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYW5pU2V0dGluZ3MpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qXHJcbk9uY2UgdGhlIHktdmFsdWUgYXBwZWFycyBpbiB0aGUgY29ycmVjdCB5LWNvbHVtbiB0aGVuIGZ1bGZpbGwgdGhlIHByb21pc2UuXHJcbiovXHJcbmZ1bmN0aW9uIHBsYWNlWVZhbHVlKGFuaVNldHRpbmdzKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHZhciBwb2ludERhdGEgPSBhbmlTZXR0aW5ncy5kYXRhcG9pbnRzW2FuaVNldHRpbmdzLmN1cnJlbnRSb3VuZF07XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuICAgICAgICB2YXIgaW5wdXQgPSAkKGB0ZCN5dmFsJHtwb2ludERhdGEuaWQgKyAxfWApWzBdO1xyXG4gICAgICAgICQoaW5wdXQpLmh0bWwoXCJcIik7XHJcbiAgICAgICAgJChpbnB1dCkuYXBwZW5kKGA8cD4ke3BvaW50RGF0YS55fTwvcD5gKTtcclxuICAgICAgICByZXNvbHZlKGFuaVNldHRpbmdzKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKlxyXG5PbmNlIHRoZSBlcXVhdGlvbiBpcyBjbGVhcmVkIGFuZCByZXNldCB0byB0aGUgZGVmYXVsdCBlcXVhdGlvblxyXG50aGVuIGZ1bGZpbGwgdGhlIHByb21pc2VcclxuKi9cclxuZnVuY3Rpb24gcmVzZXRSb3VuZChhbmlTZXR0aW5ncykge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgLy8gICAgdmFyIHBvaW50RGF0YSA9IGFuaVNldHRpbmdzLmRhdGFwb2ludHNbYW5pU2V0dGluZ3MuY3VycmVudFJvdW5kXTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuICAgICAgICBpZiAoYW5pU2V0dGluZ3MuZ3JhcGhPcHQuaGlkZUVxdWF0aW9uKSB7XHJcbiAgICAgICAgICAgIHJlc29sdmUoYW5pU2V0dGluZ3MpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoZXF1UGFyYSlcclxuICAgICAgICAgICAgICAgIC5jc3MoXCJhbmltYXRpb25cIiwgYHRleHREaXNhcHBlYXIgJHthbmlEdXJhdGlvbiowLjE1fXMgZWFzZS1pbi1vdXRgKVxyXG4gICAgICAgICAgICAgICAgLm9uZShcImFuaW1hdGlvbmVuZFwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoZXF1UGFyYSkuY3NzKFwib3BhY2l0eVwiLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBrYXRleC5yZW5kZXIoYCR7cHJvZk9wdC5sYXRleH1gLCBlcXVQYXJhKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGFuaVNldHRpbmdzKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vKlxyXG5SZXR1cm4gdG8gZGVmYXVsdCBiZWdpbm5pbmcgZXF1YXRpb24gZm9yIHRoZSBuZXh0IGFuaW1hdGlvbiBvciBmb3IgdGhlIGVuZFxyXG4qL1xyXG5mdW5jdGlvbiBzaG93RGVmYXVsdEVxdShhbmlTZXR0aW5ncykge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICAgICAgaWYgKGFuaVNldHRpbmdzLmdyYXBoT3B0LmhpZGVFcXVhdGlvbikge1xyXG4gICAgICAgICAgICByZXNvbHZlKGFuaVNldHRpbmdzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKGVxdVBhcmEpXHJcbiAgICAgICAgICAgICAgICAuY3NzKFwiYW5pbWF0aW9uXCIsIGB0ZXh0QXBwZWFyICR7YW5pRHVyYXRpb24qMC4xNX1zIGVhc2UtaW4tb3V0YClcclxuICAgICAgICAgICAgICAgIC5vbmUoXCJhbmltYXRpb25lbmRcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKGVxdVBhcmEpLmNzcyhcIm9wYWNpdHlcIiwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShhbmlTZXR0aW5ncyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuLypcclxuQWNjZXB0IHRoZSBkYXRhcG9pbnQgYW5kIGl0cyBpdGVyYXRvciBhbmQgcGxvdCB0aGF0IHBvaW50IGJlaW5nIHBhc3NlZCB0aHJvdWdoXHJcbiovXHJcbmZ1bmN0aW9uIHBsb3R0ZXIoYW5pU2V0dGluZ3MpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICAgICAgcGxvdEdyYXBoLnVwZGF0ZShhbmlTZXR0aW5ncywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXNvbHZlKGFuaVNldHRpbmdzKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKlxyXG5UaGlzIGZ1bmN0aW9uIGFjdHMgYXMgYW4gaXRlcmF0b3Igc28gdGhhdCB0aGUgcHJvbWlzZSBjaGFpbiBrbm93cyB3aGljaFxyXG5kYXRhcG9pbnQgdG8gaGFuZGxlIGFuZCB0byBhbmltYXRlXHJcbiovXHJcbmZ1bmN0aW9uIHVwZGF0ZVJvdW5kKGFuaVNldHRpbmdzKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICB2YXIgcGxhY2Vob2xkZXIgPSBhbmlTZXR0aW5ncy5kYXRhcG9pbnRzW2FuaVNldHRpbmdzLmN1cnJlbnRSb3VuZF07XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICAgICAgYW5pU2V0dGluZ3MuY3VycmVudFJvdW5kICs9IDE7XHJcbiAgICAgICAgcGxhY2Vob2xkZXIudXBkYXRlUG9pbnQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgcmVzb2x2ZShhbmlTZXR0aW5ncyk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8qXHJcblR3byBmdW5jdGlvbnMgaW4gb3JkZXIgdG8gcmVwbGFjZSB0aGUgZnVuY3Rpb24gbWFjaGluZSBnaWYgd2l0aCB0aGUgYW5pbWF0ZWRcclxuZ2lmIGFuZCBiYWNrd2FyZHMuXHJcbiovXHJcbmZ1bmN0aW9uIGFuaW1hdGVGdW5jTWFjaGluZShhbmlTZXR0aW5ncykge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICAgICAgJChcIiNmdW5jdGlvbk1hY2hpbmVcIikuY3NzKHtcclxuICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLWltYWdlXCI6IFwidXJsKC4vaW1nL2Z1bmN0aW9uTWFjaGluZUFuaS5naWYpXCJcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJlc29sdmUoYW5pU2V0dGluZ3MpXHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RvcEFuaUZ1bmNNYWNoaW5lKGFuaVNldHRpbmdzKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuICAgICAgICAkKFwiI2Z1bmN0aW9uTWFjaGluZVwiKS5jc3Moe1xyXG4gICAgICAgICAgICBcImJhY2tncm91bmQtaW1hZ2VcIjogXCJ1cmwoLi9pbWcvZnVuY3Rpb25NYWNoaW5lU3RpbGwuZ2lmKVwiXHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXNvbHZlKGFuaVNldHRpbmdzKVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qXHJcbkEgZnVuY3Rpb24gdG8gc2hvdyB0aGUgeSBhbnN3ZXIgbGVhdmluZyB0aGUgZnVuY3Rpb24gbWFjaGluZSB0b1xyXG5zdGFydCB0aGUgbmV4dCBhbmltYXRpb24gb2YgZ29pbmcgYmFjayB0byB0aGUgeSBjb2x1bW4uXHJcbiovXHJcbmZ1bmN0aW9uIG1pbmlBbmkoYW5pU2V0dGluZ3MpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG5cclxuICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBhbmlTZXR0aW5ncy5kYXRhcG9pbnRzW2FuaVNldHRpbmdzLmN1cnJlbnRSb3VuZF0sXHJcbiAgICAgICAgICAgIHl2YWx1ZSA9IHBsYWNlaG9sZGVyLnksXHJcbiAgICAgICAgICAgIHBhcmEgPSAkKGA8cD4ke3l2YWx1ZX08L3A+YCk7XHJcblxyXG4gICAgICAgICQocGFyYSkuY3NzKHtcclxuICAgICAgICAgICAgXCJmb250U2l6ZVwiOiBcIjIwcHhcIlxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgICQoXCJib2R5XCIpLmFwcGVuZChwYXJhKTtcclxuXHJcbiAgICAgICAgcGFyYVxyXG4gICAgICAgICAgICAuY3NzKHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogNjMwLFxyXG4gICAgICAgICAgICAgICAgdG9wOiAxNjBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgICAgICAgICAgIHRvcDogMjAwXHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJhLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJub25lXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShhbmlTZXR0aW5ncyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qXHJcbkEgcHJvbWlzZSBjaGFpbiB0byBydW4gdGhyb3VnaCB0aGUgd2hvbGUgYW5pbWF0aW9uIHByb2Nlc3NcclxuXHJcbk5PVEVcclxuQSBwcm9taXNlIGNoYWluIGhhcyBiZWVuIHV0aXppbGVkIGluIG9yZGVyIHRvIGVhc2lseSBwbHVnaW5cclxuZXh0cmEgZnVuY3Rpb25zIHRoYXQgd291bGQgYmUgZ3JlYXQgdG8gaGF2ZSBpbiB0aGUgYW5pbWF0aW9uXHJcbnByb2Nlc3MuICBBIHByb21pc2UgY2hhaW4gaGFzIGFsc28gYmVlbiB1c2VkIGluIG9yZGVyIHRvIHdhaXRcclxuZm9yIGEgYW5pbWF0aW9uIHRvIGVuZCB0byBzdGFydCB0aGUgbmV4dCBhbmltYXRpb24uXHJcbiovXHJcblxyXG4vKlxyXG5EZWZhdWx0IFByb21pc2UgQ2hhaW5cclxuKi9cclxuZnVuY3Rpb24gYW5pUHJvbWlzZUNoYWluKGRwcywgY2hhaW4pIHtcclxuXHJcbiAgICBkcHMuZGF0YXBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhcG9pbnQpIHtcclxuICAgICAgICBpZiAoZGF0YXBvaW50LnVwZGF0ZVBvaW50ID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGNoYWluID0gY2hhaW5cclxuICAgICAgICAgICAgICAgIC50aGVuKHJ1bkFuaW1hdGlvbihcInhUb01hY2hpbmVcIiwgZGF0YXBvaW50LngpKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oYW5pbWF0ZUZ1bmNNYWNoaW5lKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oc3RhdHVzTWVzc2FnZShcIkNhbGN1bGF0aW5nXCIpKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVwbGFjZVhFcXUpXHJcbiAgICAgICAgICAgICAgICAudGhlbihzaG93RXZhbHVhdGVFcXUpXHJcbiAgICAgICAgICAgICAgICAudGhlbihzaG93WUFucylcclxuICAgICAgICAgICAgICAgIC50aGVuKHNob3dFcXVhdGlvbkFnYWluKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oc3RvcEFuaUZ1bmNNYWNoaW5lKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oc3RhdHVzTWVzc2FnZShcIlwiKSlcclxuICAgICAgICAgICAgICAgIC50aGVuKG1pbmlBbmkpXHJcbiAgICAgICAgICAgICAgICAudGhlbihydW5BbmltYXRpb24oXCJtYWNoaW5lVG9ZXCIsIGRhdGFwb2ludC55KSlcclxuICAgICAgICAgICAgICAgIC50aGVuKHBsYWNlWVZhbHVlKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4ocnVuQW5pbWF0aW9uKFwieVRvU3RhdHVzQmFyXCIsIGAoJHtkYXRhcG9pbnQueH0sJHtkYXRhcG9pbnQueX0pYCkpXHJcbiAgICAgICAgICAgICAgICAudGhlbihzdGF0dXNNZXNzYWdlKGBQbG90dGluZyAoJHtkYXRhcG9pbnQueH0sJHtkYXRhcG9pbnQueX0pYCkpXHJcbiAgICAgICAgICAgICAgICAudGhlbihwbG90dGVyKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oc3RhdHVzTWVzc2FnZShgYCkpXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXNldFJvdW5kKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oc2hvd0RlZmF1bHRFcXUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjaGFpbiA9IGNoYWluLnRoZW4odXBkYXRlUm91bmQpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qXHJcbklmIHRoZSBcIkhpZGUgQW5pbWF0aW9uXCIgY2hlY2tib3ggaXMgY2hlY2tlZCB0aGVuIHNraXAgdGhlIHdob2xlIGFuaW1hdGlvblxyXG5wcm9taXNlIGNoYWluIGFuZCBqdXN0IGFwcGVuZCB0aGUgeSB2YWx1ZXNcclxuKi9cclxuZnVuY3Rpb24gYW5pbWF0ZUhpZGUoZHBzLCBjaGFpbikge1xyXG5cclxuICAgIGRwcy5kYXRhcG9pbnRzLmZvckVhY2goZnVuY3Rpb24gKGRhdGFwb2ludCkge1xyXG4gICAgICAgIGlmIChkYXRhcG9pbnQudXBkYXRlUG9pbnQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgY2hhaW4gPSBjaGFpblxyXG4gICAgICAgICAgICAgICAgLnRoZW4ocGxhY2VZVmFsdWUpXHJcbiAgICAgICAgICAgICAgICAudGhlbihzdGF0dXNNZXNzYWdlKGBQbG90dGluZyAoJHtkYXRhcG9pbnQueH0sJHtkYXRhcG9pbnQueX0pYCkpXHJcbiAgICAgICAgICAgICAgICAudGhlbihwbG90dGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2hhaW4gPSBjaGFpbi50aGVuKHVwZGF0ZVJvdW5kKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKlxyXG5IYW5kbGUgYWxsIENTUyBhbmltYXRpb25zIGJ5IGNyZWF0aW5nIGEgUHJvbWlzZSBjaGFpbiB0aHJvdWdoIGEgZm9yIGxvb3AuXHJcbiovXHJcbmZ1bmN0aW9uIGFuaW1hdG9yQ29udHJvbChkcHMpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIHZhciBudW1Db250YWluZXIgPSAkKFwiI251bUNvbnRhaW5lclwiKSxcclxuICAgICAgICBjaGFpbiA9IFByb21pc2UucmVzb2x2ZShkcHMpO1xyXG5cclxuICAgIG51bUNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xyXG5cclxuICAgIGlmIChhbmlEdXJhdGlvbiA9PT0gMC41KSB7XHJcbiAgICAgICAgYW5pbWF0ZUhpZGUoZHBzLCBjaGFpbik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFuaVByb21pc2VDaGFpbihkcHMsIGNoYWluKTtcclxuICAgIH1cclxuXHJcbn1cclxuIiwiLypcclxuU2V0IHVwIHRoZSBiYXNpYyB2YXJpYWJsZXMuXHJcbiovXHJcbnZhciB4TWVtb3J5ID0gW10sXHJcbiAgICBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbdHlwZT0nbnVtYmVyJ11cIiksXHJcbiAgICBpbnB1dENvdW50ID0gaW5wdXRzLmxlbmd0aCxcclxuICAgIHJ1bk1hc3RlciA9IHRydWUsXHJcbiAgICBydW4gPSB0cnVlO1xyXG5cclxuLypcclxuQXR0YWNoIGFuIG9uaW5wdXQgZXZlbnQgdG8gYWxsIHRoZSBpbnB1dCBib3hlcyBpbiBvcmRlciB0byB2YWxpZGF0ZSB0aGVtIHdpdGhpbiB0aGUgYm91bmRzXHJcbnRoYXQgdGhlIHByb2Zlc3NvciBoYXMgY2hvc2VuLiAgSWYgdGhlIGJvdW5kcyBhcmUgZXhjZWVkZWQsIHRoZW4gZGlzYWJsZSB0aGUgXCJHbyFcIiBidXR0b25cclxuYW5kIG91dHB1dCBhIG1lc3NhZ2UgdG8gdGhlIHN0YXR1cyBiYXIuXHJcbiovXHJcbmZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgaW5wdXRzW2ldLm9ua2V5dXAgPSBlID0+IHtcclxuXHJcbiAgICAgICAgdmFyIHhJbnB1dFZhbCA9IGUuc3JjRWxlbWVudC52YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKGUud2hpY2ggPT09IDY5KSB7XHJcbiAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gXCJcIjtcclxuICAgICAgICAgICAgJChcIiNzdGF0dXMgcFwiKS5odG1sKGBDYW4ndCBkbyB0aGF0IGJybyFgKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG4vKlxyXG5GdW5jdGlvbiB0byBzZWxlY3QgdGhlIGNob3NlbiBlcXVhdGlvbiB3aXRoIGl0cyBuYW1lIGFuZCBncmFwaCB3aW5kb3cgYm91bmRhcmllcy5cclxuKi9cclxuZnVuY3Rpb24gY2hlY2tDb25maWcodmFsKSB7XHJcbiAgICB2YXIgcHJvZk9wdDtcclxuICAgICQuZWFjaChwcm9mZXNzb3JDb25maWdGaWxlLCBmdW5jdGlvbiAoaSwgaXRlbSkge1xyXG4gICAgICAgIGlmIChpdGVtLmVxdWF0aW9uID09PSB2YWwpIHtcclxuICAgICAgICAgICAgcHJvZk9wdCA9IGl0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIHJldHVybiBwcm9mT3B0O1xyXG59XHJcblxyXG4vKlxyXG5VcG9uIGNob29zaW5nIGFub3RoZXIgZXF1YXRpb24gdG8gZ3JhcGgsIGNsZWFyIGFsbCB0aGUgdmFsdWVzXHJcbiovXHJcbmZ1bmN0aW9uIGNsZWFyVmFsdWVzKCkge1xyXG4gICAgdmFyIHhpbnB1dHMgPSAkKFwiaW5wdXRbdHlwZT0nbnVtYmVyJ11cIiksXHJcbiAgICAgICAgeWlucHV0cyA9ICQoYHRyIHRkOm50aC1vZi10eXBlKDIpYCk7XHJcblxyXG4gICAgeGlucHV0cy5lYWNoKGZ1bmN0aW9uIChpLCBpdGVtKSB7XHJcbiAgICAgICAgaXRlbS52YWx1ZSA9IFwiXCI7XHJcbiAgICB9KTtcclxuXHJcbiAgICB5aW5wdXRzLmVhY2goZnVuY3Rpb24gKGksIGl0ZW0pIHtcclxuICAgICAgICBpdGVtLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLypcclxuRGlwc2xheSBLYXRleCBlcXVhdGlvbi4gQUxTTyB1c2VkIGluIGFqYXguanNcclxuKi9cclxuZnVuY3Rpb24gY2hhbmdlUGxvdCh2YWwpIHtcclxuXHJcbiAgICB4TWVtb3J5ID0gW107XHJcblxyXG4gICAgY2xlYXJWYWx1ZXMoKTtcclxuXHJcbiAgICB3aW5kb3cucHJvZk9wdCA9IGNoZWNrQ29uZmlnKHZhbCk7XHJcblxyXG4gICAgdmFyIGVxdWF0ID0gdmFsLFxyXG4gICAgICAgIGVxdVBhcmEgPSAkKFwiI2Z1bmN0aW9uTWFjaGluZSAjZXF1XCIpWzBdO1xyXG5cclxuICAgICQoZXF1UGFyYSkuZW1wdHkoKTtcclxuXHJcbiAgICBpZiAod2luZG93LnByb2ZPcHQuaGlkZUVxdWF0aW9uID09PSBmYWxzZSkge1xyXG4gICAgICAgIGthdGV4LnJlbmRlcih3aW5kb3cucHJvZk9wdC5sYXRleCwgZXF1UGFyYSk7XHJcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5wcm9mT3B0LmhpZGVFcXVhdGlvbiA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICQoZXF1UGFyYSlcclxuICAgICAgICAgICAgLmFwcGVuZChcIjxoMj5NeXN0ZXJ5IEVxdWF0aW9uPC9oMj5cIilcclxuICAgICAgICAgICAgLmNzcyh7XHJcbiAgICAgICAgICAgICAgICBcInBhZGRpbmdUb3BcIjogXCI1cHhcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qXHJcbkFuaW1hdGlvbiBwYXRoIGZvciB0aGUgc3RhaXJzdGVwXHJcbiovXHJcbmZ1bmN0aW9uIHN0YWlyU3RlcChvcHRpb25zKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHZhciBoaWdod2F5UGF0aCA9IDI4MCxcclxuICAgICAgICBsYXN0U2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1tkb2N1bWVudC5zdHlsZVNoZWV0cy5sZW5ndGggLSAxXTtcclxuICAgIGxhc3RTaGVldC5pbnNlcnRSdWxlKGBAa2V5ZnJhbWVzICR7b3B0aW9ucy5uYW1lfSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwJSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6ICR7b3B0aW9ucy5zdGFydFRvcE9mZn1weDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAke29wdGlvbnMuc3RhcnRMZWZ0T2ZmfXB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMTAlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMzMlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6ICR7b3B0aW9ucy5zdGFydFRvcE9mZn1weDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAke2hpZ2h3YXlQYXRofXB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNjYlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6ICR7b3B0aW9ucy5lbmRUb3BPZmZ9cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogJHtoaWdod2F5UGF0aH1weDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDkwJSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwMCUge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAke29wdGlvbnMuZW5kVG9wT2ZmfXB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6ICR7b3B0aW9ucy5lbmRMZWZ0T2ZmfXB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9YCwgbGFzdFNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XHJcbn1cclxuXHJcbi8qXHJcbkEgc2V0IG9mIGZ1bmN0aW9ucyB1c2luZyB0aGUgc3RhaXJzdGVwIGFuaW1hdGlvbiB0ZW1wbGF0ZVxyXG50byBjcmVhdGUgcGF0aHdheXMgd2l0aCBjb29yZGluYXRlIGRhdGFcclxuKi9cclxuZnVuY3Rpb24gbWFrZVhUb01hY2hpbmUoaW5wdXRDb3JkcywgaW5kZXgpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgc3RhaXJTdGVwKHtcclxuICAgICAgICBzdGFydFRvcE9mZjogaW5wdXRDb3Jkcy50b3AgKyAxMCxcclxuICAgICAgICBzdGFydExlZnRPZmY6IGlucHV0Q29yZHMubGVmdCArIDMwLFxyXG4gICAgICAgIGVuZFRvcE9mZjogMTUwLFxyXG4gICAgICAgIGVuZExlZnRPZmY6IDQ1MCxcclxuICAgICAgICBuYW1lOiBgeFRvTWFjaGluZSR7aW5kZXh9YFxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1ha2VNYWNoaW5lVG9ZKGlucHV0Q29yZHMsIGluZGV4KSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHN0YWlyU3RlcCh7XHJcbiAgICAgICAgc3RhcnRUb3BPZmY6IDIwMCxcclxuICAgICAgICBzdGFydExlZnRPZmY6IDYzMCxcclxuICAgICAgICBlbmRUb3BPZmY6IGlucHV0Q29yZHMudG9wICsgMTAsXHJcbiAgICAgICAgZW5kTGVmdE9mZjogaW5wdXRDb3Jkcy5yaWdodCArIDUsXHJcbiAgICAgICAgbmFtZTogYG1hY2hpbmVUb1kke2luZGV4fWBcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYWtlWVRvU3RhdHVzQmFyKGlucHV0Q29yZHMsIGluZGV4KSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHN0YWlyU3RlcCh7XHJcbiAgICAgICAgc3RhcnRUb3BPZmY6IGlucHV0Q29yZHMudG9wICsgNSxcclxuICAgICAgICBzdGFydExlZnRPZmY6IGlucHV0Q29yZHMucmlnaHQgKyAxMCxcclxuICAgICAgICBlbmRUb3BPZmY6IDUwLFxyXG4gICAgICAgIGVuZExlZnRPZmY6IDQwMCxcclxuICAgICAgICBuYW1lOiBgeVRvU3RhdHVzQmFyJHtpbmRleH1gXHJcbiAgICB9KTtcclxufVxyXG5cclxuLypcclxuU2V0IHVwIHRoZSB4TWVtb3J5IGFycmF5IGFuZCB0aGUgYW5pbWF0aW9uIHBhdGhzIGZvciBlYWNoIGlucHV0IGJveC5cclxuXHJcbk5PVEU6IFNldHRpbmcgdXAgdGhlIHhNZW1vcnkgYXJyYXkgYWxzbyBtYWtlcyBpdCBzbyB0aGF0IG5vIGFuaW1hdGlvbnNcclxuICAgICAgYXJlIHJlcGVhdGVkIGJ5IG11bHRpcGxlIGNsaWNrcyBvbiB0aGUgXCJHbyFcIiBidXR0b24uXHJcbiovXHJcbmZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRDb3VudDsgaSsrKSB7XHJcbiAgICB4TWVtb3J5W2ldID0gbnVsbDtcclxuXHJcbiAgICB2YXIgaW5wdXRDb29yID0gaW5wdXRzW2ldLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgIG1ha2VYVG9NYWNoaW5lKGlucHV0Q29vciwgaSk7XHJcbiAgICBtYWtlTWFjaGluZVRvWShpbnB1dENvb3IsIGkpO1xyXG4gICAgbWFrZVlUb1N0YXR1c0JhcihpbnB1dENvb3IsIGkpO1xyXG4gICAgJChcIiNudW1Db250YWluZXJcIikuYXBwZW5kKCQoYDxwPjwvcD5gKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFVzZXJFeGNlcHRpb24obWVzc2FnZSwgZXJyb3JOdW0pIHtcclxuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICB0aGlzLmVycm9yTnVtID0gZXJyb3JOdW07XHJcbiAgICB0aGlzLm5hbWUgPSBcIlVzZXJFeGNlcHRpb25cIjtcclxufVxyXG5cclxuLypcclxuU2V0IHVwIHRoZSBvYmplY3QgdGhhdCB3aWxsIGJlIHBhc3NlZCB0aHJvdWdoIHRoZSBwcm9taXNlIGNoYWluXHJcbmluIGFuaW1hdG9yIGNvbnRyb2wuXHJcbiovXHJcbmZ1bmN0aW9uIHNldFVwT2JqZWN0KHhpbnB1dHMsIGdyYXBoT3B0LCBhbmlTZXR0aW5ncykge1xyXG4gICAgeGlucHV0cy5lYWNoKGZ1bmN0aW9uIChpKSB7XHJcblxyXG4gICAgICAgIHZhciB4dmFsdWUgPSAkKHRoaXMpLnZhbCgpLFxyXG4gICAgICAgICAgICB4dmFsLFxyXG4gICAgICAgICAgICByb3VuZGl0O1xyXG5cclxuICAgICAgICBpZiAoeHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHh2YWwgPSAreHZhbHVlO1xyXG4gICAgICAgICAgICByb3VuZGl0ID0geHZhbC50b0ZpeGVkKHByb2ZPcHQucm91bmRpbmcpO1xyXG5cclxuICAgICAgICAgICAgJCh0aGlzKS52YWwocm91bmRpdCk7XHJcblxyXG4gICAgICAgICAgICBpZiAocHJvZk9wdC52aWV3LngubWluIDw9IHJvdW5kaXQgJiYgcm91bmRpdCA8PSBwcm9mT3B0LnZpZXcueC5tYXgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVwbGFjZVggPSBncmFwaE9wdC5lcXVhdGlvbi5yZXBsYWNlKC94L2csIGAoJHtyb3VuZGl0fSlgKSxcclxuICAgICAgICAgICAgICAgICAgICB5dmFsID0gbWF0aC5ldmFsKHJlcGxhY2VYKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHl2YWwgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXRDb29yID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiByb3VuZGl0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogeXZhbC50b0ZpeGVkKHByb2ZPcHQucm91bmRpbmcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFcXU6IHByb2ZPcHQubGF0ZXgucmVwbGFjZShcInhcIiwgYCgke3JvdW5kaXR9KWApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUG9pbnQ6IHhNZW1vcnlbaV0gIT09IHJvdW5kaXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiAkKFwiI251bUNvbnRhaW5lciBwXCIpLmdldChpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVXNlckV4Y2VwdGlvbihcIm91dCBvZiBkb21haW5cIiwgeHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoSW5maW5pdHkgPT09IHl2YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVXNlckV4Y2VwdGlvbihcInVuZGVmaW5lZCB2YWx1ZVwiLCB4dmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICBDbGVhciBvdXQgdGhlIFlzIHdoZW4gdGhleSBkb24ndCBlcXVhbCBlYWNoIG90aGVyIGFuZCBuZWVkIHRvIGJlIHVwZGF0ZWRcclxuICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBpZiAocG9pbnQudXBkYXRlUG9pbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKGB0ZCN5dmFsJHtpICsgMX1gKS5odG1sKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8qVXBkYXRlIHRoZSB4bWVtb3J5Ki9cclxuICAgICAgICAgICAgICAgIHhNZW1vcnlbaV0gPSByb3VuZGl0O1xyXG4gICAgICAgICAgICAgICAgYW5pU2V0dGluZ3MuZGF0YXBvaW50cy5wdXNoKHBvaW50KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXhjZXB0aW9uKFwib3V0IG9mIHdpbmRvd1wiLCB4dmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qXHJcblNldCBhbGwgdGhlIGRhdGEgdGhhdCB3aWxsIGJlIHNldCB0byBhbmlTZXR0aW5ncyBpbiB0aGUgc2V0VXBPYmplY3QgZnVuY3Rpb25cclxuXHJcbk5PVEVcclxuZ3JhcGhPcHQuY2FsbGJhY2sgc3RpbGwgbmVlZHMgYSB2aWFibGUgbWV0aG9kIVxyXG4qL1xyXG5mdW5jdGlvbiBzdGFydEZ1bmNNYWNoKCkge1xyXG5cclxuICAgIHZhciB4aW5wdXRzID0gJChcImlucHV0W3R5cGU9J251bWJlciddXCIpLFxyXG4gICAgICAgIGdyYXBoT3B0ID0ge1xyXG4gICAgICAgICAgICBlcXVhdGlvbjogcHJvZk9wdC5lcXVhdGlvbixcclxuICAgICAgICAgICAgaGlkZUVxdWF0aW9uOiBwcm9mT3B0LmhpZGVFcXVhdGlvbixcclxuICAgICAgICAgICAgdmlldzogcHJvZk9wdC52aWV3LFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogYW5pRHVyYXRpb25cclxuICAgICAgICB9LFxyXG4gICAgICAgIGFuaVNldHRpbmdzID0ge1xyXG4gICAgICAgICAgICBkYXRhcG9pbnRzOiBbXSxcclxuICAgICAgICAgICAgY3VycmVudFJvdW5kOiAwLFxyXG4gICAgICAgICAgICBncmFwaE9wdDogZ3JhcGhPcHRcclxuICAgICAgICB9O1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgc2V0VXBPYmplY3QoeGlucHV0cywgZ3JhcGhPcHQsIGFuaVNldHRpbmdzKTtcclxuICAgICAgICBhbmltYXRvckNvbnRyb2woYW5pU2V0dGluZ3MpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIHhNZW1vcnkgPSBbXTtcclxuICAgICAgICAkKFwiI3N0YXR1cyBwXCIpXHJcbiAgICAgICAgICAgIC5odG1sKGAke2UuZXJyb3JOdW19IHgtdmFsdWUgJHtlLm1lc3NhZ2V9LmApXHJcbiAgICAgICAgICAgIC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgXCJmb250V2VpZ2h0XCI6IFwiYm9sZFwiLFxyXG4gICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiNiNjI3MjdcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuLypCZWZvcmUgcnVubmluZyB0aGUgZnVuY3Rpb24gbWFjaGluZSwgcHV0IGFsbCBpbnB1dHMgbmV4dCB0byBlYWNoIG90aGVyLiovXHJcbmZ1bmN0aW9uIGNsZWFuSW5wdXRzKCkge1xyXG4gICAgdmFyIHhpbnB1dHMgPSAkKFwiaW5wdXRbdHlwZT0nbnVtYmVyJ11cIiksXHJcbiAgICAgICAgaW5wdXRBcnJheSA9IFtdO1xyXG5cclxuICAgIHhpbnB1dHMuZWFjaChmdW5jdGlvbiAoaSkge1xyXG4gICAgICAgIHZhciBpbnB1dFZhbHVlID0gJCh0aGlzKS52YWwoKTtcclxuXHJcbiAgICAgICAgaWYgKGlucHV0VmFsdWUgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgaW5wdXRBcnJheS5wdXNoKGlucHV0VmFsdWUpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLnZhbChcIlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIHhpbnB1dHMuZWFjaChmdW5jdGlvbiAoaSkge1xyXG4gICAgICAgIGlmIChpIDwgaW5wdXRBcnJheS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS52YWwoaW5wdXRBcnJheVtpXSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCh0aGlzKS52YWwoXCJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufVxyXG5cclxuJChcIiNjbG9zZUhlbHBcIikuY2xpY2soZSA9PiB7XHJcbiAgICAkKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQpLmZhZGVPdXQoMTAwKTtcclxuICAgICQoXCIjc2hhZGVcIikuZmFkZU91dCgyMDApO1xyXG4gICAgbG9jYWxTdG9yYWdlWydmaXJzdFRpbWVGdW5jdGlvbk1hY2hpbmUnXSA9IGZhbHNlO1xyXG59KTtcclxuXHJcbiQoXCIjb3BlbkhlbHBcIikuY2xpY2soZSA9PiB7XHJcbiAgICAkKFwiI2luc3RydWN0aW9uc1wiKS5mYWRlSW4oMTAwKTtcclxuICAgICQoXCIjc2hhZGVcIikuZmFkZUluKDEwMDApO1xyXG59KTtcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGUgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB2YXIgZmlyc3R0aW1lID0gbG9jYWxTdG9yYWdlWydmaXJzdFRpbWVGdW5jdGlvbk1hY2hpbmUnXTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgfVxyXG4gICAgaWYgKGZpcnN0dGltZSA9PT0gXCJmYWxzZVwiKSB7XHJcbiAgICAgICAgJChcIiNpbnN0cnVjdGlvbnNcIikuaGlkZSgpO1xyXG4gICAgICAgICQoXCIjc2hhZGVcIikuaGlkZSgpO1xyXG4gICAgfVxyXG59KVxyXG5cclxuLypcclxuT25jaGFuZ2UgZXZlbnQgaGFuZGxlciBmb3IgdGhlIHNlbGVjdCBodG1sIGVsZW1lbnQuXHJcbiovXHJcbiQoXCJzZWxlY3RcIikuY2hhbmdlKGZ1bmN0aW9uIChlKSB7XHJcbiAgICB2YXIgc2VsZWN0ZWQgPSAkKGBvcHRpb25bdmFsdWU9XCIke2UudGFyZ2V0LnZhbHVlfVwiXWApLFxyXG4gICAgICAgIHByb2ZPcHQgPSBKU09OLnBhcnNlKHNlbGVjdGVkLmF0dHIoXCJkYXRhLXByb2ZvcHRcIikpO1xyXG5cclxuICAgIHBsb3RHcmFwaC5zZXR1cChwcm9mT3B0LCBcIiNncmFwaFwiKVxyXG4gICAgY2hhbmdlUGxvdChlLnRhcmdldC52YWx1ZSk7XHJcbn0pO1xyXG5cclxuLypcclxuRE9DVU1FTlQga2V5ZG93biBldmVudCBoYW5kbGVyXHJcbiovXHJcbiQoZG9jdW1lbnQpLmtleXByZXNzKGZ1bmN0aW9uIChlKSB7XHJcbiAgICBpZiAoZS53aGljaCA9PSAxMyAmJiBydW5NYXN0ZXIpIHtcclxuICAgICAgICBjbGVhbklucHV0cygpO1xyXG4gICAgICAgIHN0YXJ0RnVuY01hY2goKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vKlxyXG5HTyEgQ2xpY2sgZXZlbnQgaGFuZGxlclxyXG4qL1xyXG4kKFwiaW5wdXRbdHlwZT0nYnV0dG9uJ11bdmFsdWU9J0dvISddXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChydW5NYXN0ZXIpIHtcclxuICAgICAgICBjbGVhbklucHV0cygpO1xyXG4gICAgICAgIHN0YXJ0RnVuY01hY2goKTtcclxuICAgIH1cclxufSk7XHJcbiJdfQ==
