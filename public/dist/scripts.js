"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t,e){t.wand=e()}("undefined"!=typeof window?window:void 0,function(){var t={apndr:function(t,e){if("object"!==("undefined"==typeof t?"undefined":_typeof(t))||"object"!==("undefined"==typeof e?"undefined":_typeof(e))||Array.isArray(e))if("object"!==("undefined"==typeof t?"undefined":_typeof(t)))console.error("First parameter passed is not an object element.");else if("object"!==("undefined"==typeof e?"undefined":_typeof(e)))"string"!=typeof e&&"number"!=typeof e||t.appendChild(this.txt(e));else if(Array.isArray(e))for(var r=e,n=0;n<r.length;n++)this.apndr(t,r[n]);else console.error("Parameters are not compatible in the lib.apndr function.  Hit the arrow on the left for call stack.");else t.appendChild(e)},querApndr:function(t,e,r){var n=document.querySelector(t);if(null!=n){if(Array.isArray(e))for(var o=e,i=0;i<o.length;i++)this.apndr(n,this.crtElm(o[i]));else r?this.apndr(n,this.crtElm(e,r)):this.apndr(n,e);return n}console.error("No tag exists in the DOM. Hit the arrow on the left for call stack.")},querAttr:function(t,e,r){var n=document.querySelector(t);null==n?console.error("No tag exists in the DOM. Hit the arrow on the left for call stack."):e&&n.setAttribute(e,r)},txt:function(t){return"string"==typeof t?document.createTextNode(t):"number"==typeof t?document.createTextNode(t.toString()):void console.error("Parameter passed to lib.txt is not a string nor a number.  Hit the arrow on the left for call stack.")},crtElm:function(t,e){var r,n=document.createElement(t);return e&&("string"==typeof e?(r=this.txt(e),this.apndr(n,r)):console.error("Must pass a string as the second param in lib.crtElm function.  Hit the arrow on the left for call stack.")),n}};return t});
"use strict";function changePlot(n){equPara.innerText="",katex.render("y = "+n,equPara),globalEqu=n}function dispConfig(n){var e=JSON.parse(n),a=wand.crtElm("select");a.name="equDrop";for(var o=0;o<e.length;o++){var t=wand.crtElm("option",e[o].name);t.value=e[o].equation,wand.apndr(a,t),wand.querApndr("#dropdown",a),0===o&&changePlot(e[o].equation)}}function loadConfig(n,e){var a=new XMLHttpRequest;a.onreadystatechange=function(){4==a.readyState&&200==a.status&&(config=a.responseText,n(config))},a.open("GET",e,!0),a.send()}var config,globalEqu,equPara=wand.querApndr("#functionMachine p");loadConfig(dispConfig,"../funcMachineSettings.json");
"use strict";function textAnimeDisappear(n,t,e,a){var i=n;i.style.animation="textDisappear 1s ease-in-out",n.addEventListener("animationend",function(){equPara.innerText="",e(i,t,a)})}function textAnimeAppear(n,t,e){var a=n;a.style.opacity=0,katex.render("y = "+t,equPara),a.style.animation="textAppear 1s ease-in-out",a.addEventListener("animationend",function(){if(a.style.opacity=1,"stop"!==e){var i=math.eval(t);textAnimeDisappear(n,i,textAnimeAppear,"stop")}else{if("final"===e)return void console.log("back to normal");textAnimeDisappear(n,globalEqu,textAnimeAppear,"final")}})}function toFuncMachEnd(n){var t=globalEqu.replace("x","*"+n.target.innerText);textAnimeDisappear(equPara,t,textAnimeAppear),wand.apndr(statusBar,""),wand.apndr(statusBar,">> Calculating")}function animeToFuncMach(n,t,e,a){var i=t.right-50,p=t.top+7;return n.style.position="absolute",n.style.top=p+"px",n.style.left=i+"px",n.className="anime"+e,lastSheet.insertRule("@keyframes toFuncMachine"+e+" {\n                            0% {\n                                opacity: 0;\n                                top: "+p+"px;\n                                left: "+i+"px;\n                            }\n                            10% {\n                                opacity: 1;\n                            }\n                            33% {\n                                top: "+p+"px;\n                                left: 240px;\n                            }\n                            66% {\n                                top: 55px;\n                                left: 240px;\n                            }\n                            90% {\n                                opacity: 1;\n                            }\n                            100% {\n                                opacity: 0;\n                                top: 55px;\n                                left: 300px;\n                            }\n                        }",lastSheet.cssRules.length),n.style.animation="toFuncMachine"+e+" 3s ease-in-out "+7*a[0]+"s 1",n.style.opacity="0",n.style.zIndex="100",n.addEventListener("animationend",toFuncMachEnd),n}function animator(n){var t=wand.querApndr("#numContainer");t.innerHTML="";for(var e=0;e<n.length;e++){var a=wand.crtElm("p",n[e].num),i=animeToFuncMach(a,n[e].coorData,alphaid[e],[e]);wand.apndr(t,i)}}var lastSheet=document.styleSheets[document.styleSheets.length-1],alphaid=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r"],statusBar=wand.querApndr("#status p");
"use strict";!function(){var n=["input1","input2","input3","input4","input5","input6","input7","input8","input9","input10","input11","input12","input13","input14","input15","input16","input17","input18","input19"],t=[];document.onchange=function(n){"select"===n.target.localName&&(changePlot(n.target.value),console.log(globalEqu))},document.onclick=function(u){if("Go!"===u.target.value){t=[];for(var i=0;i<n.length;i++){var a=wand.querApndr("[name='"+n[i]+"']");if(a.value){var e={};e.coorData=a.getBoundingClientRect(),e.num=a.value,t.push(e)}}animator(t)}}}();
"use strict";!function(){for(var n,d,r,t,a=wand.querApndr("tbody"),w=19,p=1;w>=p;p++)t=wand.crtElm("input"),n=wand.crtElm("td"),d=wand.crtElm("td"),r=wand.crtElm("tr"),t.name="input"+p,t.type="number",wand.apndr(n,t),wand.apndr(r,[n,d]),wand.apndr(a,r)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndhbmQuanMiLCJhamF4LmpzIiwiYW5pbWF0b3IuanMiLCJldmVudHMuanMiLCJtYWluLmpzIl0sIm5hbWVzIjpbIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm9iaiIsImNvbnN0cnVjdG9yIiwiZ2xvIiwibGliIiwid2FuZCIsIndpbmRvdyIsInVuZGVmaW5lZCIsImFwbmRyIiwiYSIsImIiLCJBcnJheSIsImlzQXJyYXkiLCJjb25zb2xlIiwiZXJyb3IiLCJhcHBlbmRDaGlsZCIsInRoaXMiLCJ0eHQiLCJhcnIiLCJpIiwibGVuZ3RoIiwicXVlckFwbmRyIiwiYyIsImVsZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNydEVsbSIsInF1ZXJBdHRyIiwic2V0QXR0cmlidXRlIiwiY3JlYXRlVGV4dE5vZGUiLCJ0b1N0cmluZyIsImNyZWF0ZUVsZW1lbnQiLCJjaGFuZ2VQbG90IiwidmFsIiwiZXF1UGFyYSIsImlubmVyVGV4dCIsImthdGV4IiwicmVuZGVyIiwiZ2xvYmFsRXF1IiwiZGlzcENvbmZpZyIsInBhcnNlZE9iaiIsIkpTT04iLCJwYXJzZSIsInNlbGVjdCIsIm5hbWUiLCJvcHQiLCJ2YWx1ZSIsImVxdWF0aW9uIiwibG9hZENvbmZpZyIsImZ1bmMiLCJzZWFyY2giLCJ4aHR0cCIsIlhNTEh0dHBSZXF1ZXN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsImNvbmZpZyIsInJlc3BvbnNlVGV4dCIsIm9wZW4iLCJzZW5kIiwidGV4dEFuaW1lRGlzYXBwZWFyIiwiY2hhbmdlRXF1Iiwic3RhdGUiLCJlIiwic3R5bGUiLCJhbmltYXRpb24iLCJhZGRFdmVudExpc3RlbmVyIiwidGV4dEFuaW1lQXBwZWFyIiwib3BhY2l0eSIsImV2YWxOdW0iLCJtYXRoIiwiZXZhbCIsImxvZyIsInRvRnVuY01hY2hFbmQiLCJyZXBsYWNlIiwidGFyZ2V0Iiwic3RhdHVzQmFyIiwiYW5pbWVUb0Z1bmNNYWNoIiwibnVtZSIsImF3IiwiaWQiLCJkZWxheSIsImxlZnRDb29yT2ZmIiwicmlnaHQiLCJ0b3BDb29yT2ZmIiwidG9wIiwicG9zaXRpb24iLCJsZWZ0IiwiY2xhc3NOYW1lIiwibGFzdFNoZWV0IiwiaW5zZXJ0UnVsZSIsImNzc1J1bGVzIiwiekluZGV4IiwiYW5pbWF0b3IiLCJudW1Db250YWluZXIiLCJpbm5lckhUTUwiLCJudW0iLCJudW1XaXRoQW5pbWUiLCJjb29yRGF0YSIsImFscGhhaWQiLCJzdHlsZVNoZWV0cyIsImlucHV0T3B0IiwiYW5pbWF0ZVdhaXQiLCJvbmNoYW5nZSIsImxvY2FsTmFtZSIsIm9uY2xpY2siLCJpbnB1dCIsImFuaURhdGEiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJwdXNoIiwidGQxIiwidGQyIiwidHIiLCJ0Ym9keSIsInJvd0NvdW50IiwiaiIsInR5cGUiXSwibWFwcGluZ3MiOiJBQUFBLFlBRUEsSUFBSUEsU0FBNEIsa0JBQVhDLFNBQW9ELGdCQUFwQkEsUUFBT0MsU0FBd0IsU0FBVUMsR0FBTyxhQUFjQSxJQUFTLFNBQVVBLEdBQU8sTUFBT0EsSUFBeUIsa0JBQVhGLFNBQXlCRSxFQUFJQyxjQUFnQkgsT0FBUyxlQUFrQkUsS0FJek8sU0FBVUUsRUFBS0MsR0FDWkQsRUFBSUUsS0FBT0QsS0FDSyxtQkFBWEUsUUFBeUJBLE9BQWhDQyxPQUErQyxXQUM3QyxHQUFJSCxJQUNBSSxNQUFPLFNBQVVDLEVBQUdDLEdBQ2hCLEdBQWlCLFlBQWIsbUJBQU9ELEdBQVAsWUFBQVgsUUFBT1csS0FBK0IsWUFBYixtQkFBT0MsR0FBUCxZQUFBWixRQUFPWSxLQUFtQkMsTUFBTUMsUUFBUUYsR0FFOUQsR0FBaUIsWUFBYixtQkFBT0QsR0FBUCxZQUFBWCxRQUFPVyxJQUNkSSxRQUFRQyxNQUFNLHdEQUNYLElBQWlCLFlBQWIsbUJBQU9KLEdBQVAsWUFBQVosUUFBT1ksSUFDRyxnQkFBTkEsSUFBK0IsZ0JBQU5BLElBQ2hDRCxFQUFFTSxZQUFZQyxLQUFLQyxJQUFJUCxRQUV4QixJ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QUd6QmQsU0FBU1M7QUM3QnJCLGNBQUMsV0FXRyxJQUFLLEdBTkRRLEdBQ0FDLEVBQ0FDLEVBQ0FOLEVBSkFPLEVBQVE1RyxLQUFLZ0IsVUFBVSxTQUt2QjZGLEVBQVcsR0FFTkMsRUFBSSxFQUFRRCxHQUFMQyxFQUFlQSxJQUMzQlQsRUFBUXJHLEtBQUtxQixPQUFPLFNBQ3BCb0YsRUFBTXpHLEtBQUtxQixPQUFPLE1BQ2xCcUYsRUFBTTFHLEtBQUtxQixPQUFPLE1BQ2xCc0YsRUFBSzNHLEtBQUtxQixPQUFPLE1BRWpCZ0YsRUFBTTlELEtBQU4sUUFBcUJ1RSxFQUNyQlQsRUFBTVUsS0FBTyxTQUViL0csS0FBS0csTUFBTXNHLEVBQUtKLEdBQ2hCckcsS0FBS0csTUFBTXdHLEdBQUtGLEVBQUtDLElBQ3JCMUcsS0FBS0csTUFBTXlHLEVBQU9EIiwiZmlsZSI6InNjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cblRoaXMgaXMgYSBjdXN0b20gbGlicmFyeSB0aGF0IEkgbWFkZSB0byBtYWtlIERPTSBtYW5pcHVsYXRpb24gYSBsaXR0bGUgYml0IGZhc3RlclxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuKGZ1bmN0aW9uIChnbG8sIGxpYikge1xuICAgIGdsby53YW5kID0gbGliKCk7XG59KHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGxpYiA9IHtcbiAgICAgICAgYXBuZHI6IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGEgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIGIgPT09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAgICAgICAgICAgICBhLmFwcGVuZENoaWxkKGIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGaXJzdCBwYXJhbWV0ZXIgcGFzc2VkIGlzIG5vdCBhbiBvYmplY3QgZWxlbWVudC5cIik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBiICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBiID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGEuYXBwZW5kQ2hpbGQodGhpcy50eHQoYikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShiKSkge1xuICAgICAgICAgICAgICAgIHZhciBhcnIgPSBiO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBuZHIoYSwgYXJyW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJQYXJhbWV0ZXJzIGFyZSBub3QgY29tcGF0aWJsZSBpbiB0aGUgbGliLmFwbmRyIGZ1bmN0aW9uLiAgSGl0IHRoZSBhcnJvdyBvbiB0aGUgbGVmdCBmb3IgY2FsbCBzdGFjay5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHF1ZXJBcG5kcjogZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgICAgICAgIHZhciBlbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGEpO1xuICAgICAgICAgICAgaWYgKGVsZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk5vIHRhZyBleGlzdHMgaW4gdGhlIERPTS4gSGl0IHRoZSBhcnJvdyBvbiB0aGUgbGVmdCBmb3IgY2FsbCBzdGFjay5cIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnIgPSBiO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcG5kcihlbGUsIHRoaXMuY3J0RWxtKGFycltpXSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBuZHIoZWxlLCB0aGlzLmNydEVsbShiLCBjKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcG5kcihlbGUsIGIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBlbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHF1ZXJBdHRyOiBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgICAgICAgICAgdmFyIGVsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYSk7XG4gICAgICAgICAgICBpZiAoZWxlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiTm8gdGFnIGV4aXN0cyBpbiB0aGUgRE9NLiBIaXQgdGhlIGFycm93IG9uIHRoZSBsZWZ0IGZvciBjYWxsIHN0YWNrLlwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGIpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlLnNldEF0dHJpYnV0ZShiLCBjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHR4dDogZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGEgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlBhcmFtZXRlciBwYXNzZWQgdG8gbGliLnR4dCBpcyBub3QgYSBzdHJpbmcgbm9yIGEgbnVtYmVyLiAgSGl0IHRoZSBhcnJvdyBvbiB0aGUgbGVmdCBmb3IgY2FsbCBzdGFjay5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNydEVsbTogZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHZhciBlbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpLFxuICAgICAgICAgICAgICAgIHR4dDtcbiAgICAgICAgICAgIGlmIChiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHR4dCA9IHRoaXMudHh0KGIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwbmRyKGVsZSwgdHh0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiTXVzdCBwYXNzIGEgc3RyaW5nIGFzIHRoZSBzZWNvbmQgcGFyYW0gaW4gbGliLmNydEVsbSBmdW5jdGlvbi4gIEhpdCB0aGUgYXJyb3cgb24gdGhlIGxlZnQgZm9yIGNhbGwgc3RhY2suXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlbGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxpYjtcbn0pKTtcbiIsIiAgICB2YXIgY29uZmlnLFxuICAgICAgICBnbG9iYWxFcXUsXG4gICAgICAgIGVxdVBhcmEgPSB3YW5kLnF1ZXJBcG5kcihcIiNmdW5jdGlvbk1hY2hpbmUgcFwiKTtcblxuLy9EaXBzbGF5IEthdGV4IGVxdWF0aW9uXG4gICAgZnVuY3Rpb24gY2hhbmdlUGxvdCh2YWwpIHtcbiAgICAgICAgZXF1UGFyYS5pbm5lclRleHQgPSBcIlwiO1xuICAgICAgICBrYXRleC5yZW5kZXIoYHkgPSAke3ZhbH1gLCBlcXVQYXJhKTtcbiAgICAgICAgZ2xvYmFsRXF1ID0gdmFsO1xuICAgIH1cblxuICAgIC8qQUpBWCBSRVFVRVNUIFRPIEZVTkNNQUNISU5FU0VUVElOR1MuSlMgQU5EIExPQUQqL1xuICAgIGZ1bmN0aW9uIGRpc3BDb25maWcoYykge1xuICAgICAgICB2YXIgcGFyc2VkT2JqID0gSlNPTi5wYXJzZShjKSxcbiAgICAgICAgICAgIHNlbGVjdCA9IHdhbmQuY3J0RWxtKFwic2VsZWN0XCIpO1xuICAgICAgICBzZWxlY3QubmFtZSA9IFwiZXF1RHJvcFwiO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnNlZE9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIG9wdCA9IHdhbmQuY3J0RWxtKFwib3B0aW9uXCIsIHBhcnNlZE9ialtpXS5uYW1lKTtcbiAgICAgICAgICAgIG9wdC52YWx1ZSA9IHBhcnNlZE9ialtpXS5lcXVhdGlvbjtcbi8vICAgICAgICAgIG9wdC5jbGFzcyA9IEpTT04uc3RyaW5naWZ5KHBhcnNlZE9ialtpXS53aW5kb3cpO1xuICAgICAgICAgICAgd2FuZC5hcG5kcihzZWxlY3QsIG9wdCk7XG4gICAgICAgICAgICB3YW5kLnF1ZXJBcG5kcihcIiNkcm9wZG93blwiLCBzZWxlY3QpO1xuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VQbG90KHBhcnNlZE9ialtpXS5lcXVhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbi8vTG9hZCBpbiB0aGUgY29uZmlndXJhdGlvbiBmaWxlXG4gICAgZnVuY3Rpb24gbG9hZENvbmZpZyhmdW5jLCBzZWFyY2gpIHtcbiAgICAgICAgdmFyIHhodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhodHRwLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh4aHR0cC5yZWFkeVN0YXRlID09IDQgJiYgeGh0dHAuc3RhdHVzID09IDIwMCkge1xuICAgICAgICAgICAgICAgIGNvbmZpZyA9IHhodHRwLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgICAgICBmdW5jKGNvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHhodHRwLm9wZW4oXCJHRVRcIiwgc2VhcmNoLCB0cnVlKTtcbiAgICAgICAgeGh0dHAuc2VuZCgpO1xuICAgIH1cblxuICAgIGxvYWRDb25maWcoZGlzcENvbmZpZywgXCIuLi9mdW5jTWFjaGluZVNldHRpbmdzLmpzb25cIik7XG4iLCJ2YXIgbGFzdFNoZWV0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbZG9jdW1lbnQuc3R5bGVTaGVldHMubGVuZ3RoIC0gMV07XG5cbi8vIFRPRE86IEZ1bmN0aW9uIG1hY2hpbmUgaW5cbi8vIFRPRE86IE1ha2Ugc3VyZSB0aGUgZG8gdGhlIGFuaW1hdGlvbnMgb24gdGhlIHRleHRcblxuLy9BbHBoYSBJRCBpcyB0byBpZGVudGlmeSB0aGUgMTUgZGlmZmVyZW50IGFuaW1hdGlvbnMgdGhhdCBjb3VsZCBoYXBwZW4gaW4gdGhlIGFwcGxpY2F0aW9uXG52YXIgYWxwaGFpZCA9IFsnYScsICdiJywgJ2MnLCAnZCcsICdlJywgJ2YnLCAnZycsICdoJywgJ2knLCAnaicsICdrJywgJ2wnLCAnbScsICduJywgJ28nLCAncCcsICdxJywgJ3InXSxcbiAgICBzdGF0dXNCYXIgPSB3YW5kLnF1ZXJBcG5kcihcIiNzdGF0dXMgcFwiKTtcblxuZnVuY3Rpb24gdGV4dEFuaW1lRGlzYXBwZWFyKGVsZSwgY2hhbmdlRXF1LCBmdW5jLCBzdGF0ZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHZhciBlID0gZWxlO1xuICAgIGUuc3R5bGUuYW5pbWF0aW9uID0gJ3RleHREaXNhcHBlYXIgMXMgZWFzZS1pbi1vdXQnO1xuICAgIGVsZS5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZXF1UGFyYS5pbm5lclRleHQgPSBcIlwiO1xuICAgICAgICBmdW5jKGUsIGNoYW5nZUVxdSwgc3RhdGUpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiB0ZXh0QW5pbWVBcHBlYXIoZWxlLCBjaGFuZ2VFcXUsIHN0YXRlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgdmFyIGUgPSBlbGU7XG4gICAgZS5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICBrYXRleC5yZW5kZXIoYHkgPSAke2NoYW5nZUVxdX1gLCBlcXVQYXJhKTtcbiAgICBlLnN0eWxlLmFuaW1hdGlvbiA9ICd0ZXh0QXBwZWFyIDFzIGVhc2UtaW4tb3V0JztcbiAgICBlLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBlLnN0eWxlLm9wYWNpdHkgPSAxO1xuXG4gICAgICAgIGlmIChzdGF0ZSAhPT0gXCJzdG9wXCIpIHtcbiAgICAgICAgICAgIHZhciBldmFsTnVtID0gbWF0aC5ldmFsKGNoYW5nZUVxdSk7XG4gICAgICAgICAgICB0ZXh0QW5pbWVEaXNhcHBlYXIoZWxlLCBldmFsTnVtLCB0ZXh0QW5pbWVBcHBlYXIsIFwic3RvcFwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gXCJmaW5hbFwiKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImJhY2sgdG8gbm9ybWFsXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGV4dEFuaW1lRGlzYXBwZWFyKGVsZSwgZ2xvYmFsRXF1LCB0ZXh0QW5pbWVBcHBlYXIsIFwiZmluYWxcIik7XG4gICAgICAgIH1cbiAgICB9KVxufVxuXG4vL0NoYW5nZSB0aGUgS2F0ZXggZXF1YXRpb24gZnJvbSB0aGUgc2VsZWN0ZWQgaW5wdXQgYm94LlxuZnVuY3Rpb24gdG9GdW5jTWFjaEVuZChlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgLy9nbG9iYWxFcXUgYW5kIGVxdVBhcmEgYXNzaWduZWQgaW4gYWpheC5qc1xuICAgIHZhciBjaGFuZ2VFcXUgPSBnbG9iYWxFcXUucmVwbGFjZShcInhcIiwgYCoke2UudGFyZ2V0LmlubmVyVGV4dH1gKTtcbiAgICB0ZXh0QW5pbWVEaXNhcHBlYXIoZXF1UGFyYSwgY2hhbmdlRXF1LCB0ZXh0QW5pbWVBcHBlYXIpO1xuXG4gICAgd2FuZC5hcG5kcihzdGF0dXNCYXIsIFwiXCIpO1xuICAgIHdhbmQuYXBuZHIoc3RhdHVzQmFyLCBcIj4+IENhbGN1bGF0aW5nXCIpO1xufVxuXG4vL0R5bmFtaWNhbGx5IG1vZGlmeSB0aGUgQ1NTIGFuaW1hdGlvbnMgb2YgdGhlIDE1IGlucHV0IGJveGVzXG5mdW5jdGlvbiBhbmltZVRvRnVuY01hY2gobnVtZSwgYXcsIGlkLCBkZWxheSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHZhciBsZWZ0Q29vck9mZiA9IGF3LnJpZ2h0IC0gNTAsXG4gICAgICAgIHRvcENvb3JPZmYgPSBhdy50b3AgKyA3O1xuICAgIG51bWUuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgbnVtZS5zdHlsZS50b3AgPSBgJHt0b3BDb29yT2ZmfXB4YDtcbiAgICBudW1lLnN0eWxlLmxlZnQgPSBgJHtsZWZ0Q29vck9mZn1weGA7XG4gICAgbnVtZS5jbGFzc05hbWUgPSBgYW5pbWUke2lkfWBcbiAgICBsYXN0U2hlZXQuaW5zZXJ0UnVsZShgQGtleWZyYW1lcyB0b0Z1bmNNYWNoaW5lJHtpZH0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAke3RvcENvb3JPZmZ9cHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6ICR7bGVmdENvb3JPZmZ9cHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwJSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMzJSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogJHt0b3BDb29yT2ZmfXB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAyNDBweDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNjYlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiA1NXB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAyNDBweDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOTAlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMTAwJSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogNTVweDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMzAwcHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfWAsIGxhc3RTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIG51bWUuc3R5bGUuYW5pbWF0aW9uID0gYHRvRnVuY01hY2hpbmUke2lkfSAzcyBlYXNlLWluLW91dCAke2RlbGF5WzBdKjd9cyAxYDtcbiAgICBudW1lLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgbnVtZS5zdHlsZS56SW5kZXggPSAnMTAwJztcbiAgICBudW1lLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgdG9GdW5jTWFjaEVuZCk7XG4gICAgcmV0dXJuIG51bWU7XG59XG5cbi8vSGFuZGxlIGFsbCBDU1MgYW5pbWF0aW9uc1xuZnVuY3Rpb24gYW5pbWF0b3IoYXcpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICB2YXIgbnVtQ29udGFpbmVyID0gd2FuZC5xdWVyQXBuZHIoXCIjbnVtQ29udGFpbmVyXCIpO1xuICAgIG51bUNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgbnVtZSA9IHdhbmQuY3J0RWxtKFwicFwiLCBhd1tpXS5udW0pO1xuXG4gICAgICAgIHZhciBudW1XaXRoQW5pbWUgPSBhbmltZVRvRnVuY01hY2gobnVtZSwgYXdbaV0uY29vckRhdGEsIGFscGhhaWRbaV0sIFtpXSk7XG4gICAgICAgIHdhbmQuYXBuZHIobnVtQ29udGFpbmVyLCBudW1XaXRoQW5pbWUpO1xuICAgIH1cbn0iLCIoZnVuY3Rpb24gKCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgLy9yZWdpc3RlciBhbGwgaW5wdXRzIG9uIHRoZSBhcHBsaWNhdGlvblxuICAgIHZhciBpbnB1dE9wdCA9IFtcImlucHV0MVwiLCBcImlucHV0MlwiLCBcImlucHV0M1wiLCBcImlucHV0NFwiLCBcImlucHV0NVwiLCBcImlucHV0NlwiLCBcImlucHV0N1wiLCBcImlucHV0OFwiLCBcImlucHV0OVwiLCBcImlucHV0MTBcIiwgXCJpbnB1dDExXCIsIFwiaW5wdXQxMlwiLCBcImlucHV0MTNcIiwgXCJpbnB1dDE0XCIsIFwiaW5wdXQxNVwiLCBcImlucHV0MTZcIiwgXCJpbnB1dDE3XCIsIFwiaW5wdXQxOFwiLCBcImlucHV0MTlcIl0sXG4gICAgICAgIGFuaW1hdGVXYWl0ID0gW107XG5cbiAgICAvKioqKkRPQ1VNRU5UIE9OQ0hBTkdFIEVWRU5UIEhBTkRMRVIqKioqL1xuICAgIGRvY3VtZW50Lm9uY2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmxvY2FsTmFtZSA9PT0gXCJzZWxlY3RcIikge1xuICAgICAgICAgICAgLy9jaGFuZ2VQbG90IGZ1bmN0aW9uIGluIGFqYXguanNcbiAgICAgICAgICAgIGNoYW5nZVBsb3QoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZ2xvYmFsRXF1KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKioqKipET0NVTUVOVCBDTElDSyBIQU5ETEVSKioqKiovXG4gICAgZG9jdW1lbnQub25jbGljayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gXCJHbyFcIikge1xuICAgICAgICAgICAgYW5pbWF0ZVdhaXQgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRPcHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB3YW5kLnF1ZXJBcG5kcihgW25hbWU9JyR7aW5wdXRPcHRbaV19J11gKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuaURhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgYW5pRGF0YS5jb29yRGF0YSA9IGlucHV0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICBhbmlEYXRhLm51bSA9IGlucHV0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRlV2FpdC5wdXNoKGFuaURhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFuaW1hdG9yKGFuaW1hdGVXYWl0KTtcbiAgICAgICAgfVxuICAgIH07XG59KCkpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIC8qKioqVEFCTEUgTUFLRVIqKioqL1xuICAgIHZhciB0Ym9keSA9IHdhbmQucXVlckFwbmRyKFwidGJvZHlcIiksXG4gICAgICAgIHRkMSxcbiAgICAgICAgdGQyLFxuICAgICAgICB0cixcbiAgICAgICAgaW5wdXQsXG4gICAgICAgIHJvd0NvdW50ID0gMTk7XG5cbiAgICBmb3IgKHZhciBqID0gMTsgaiA8PSByb3dDb3VudDsgaisrKSB7XG4gICAgICAgIGlucHV0ID0gd2FuZC5jcnRFbG0oXCJpbnB1dFwiKTtcbiAgICAgICAgdGQxID0gd2FuZC5jcnRFbG0oXCJ0ZFwiKTtcbiAgICAgICAgdGQyID0gd2FuZC5jcnRFbG0oXCJ0ZFwiKTtcbiAgICAgICAgdHIgPSB3YW5kLmNydEVsbShcInRyXCIpO1xuXG4gICAgICAgIGlucHV0Lm5hbWUgPSBgaW5wdXQke2p9YDtcbiAgICAgICAgaW5wdXQudHlwZSA9ICdudW1iZXInO1xuXG4gICAgICAgIHdhbmQuYXBuZHIodGQxLCBpbnB1dCk7XG4gICAgICAgIHdhbmQuYXBuZHIodHIsIFt0ZDEsIHRkMl0pO1xuICAgICAgICB3YW5kLmFwbmRyKHRib2R5LCB0cik7XG4gICAgfVxufSgpKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
